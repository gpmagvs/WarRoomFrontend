import{F as pn,C as ke}from"./CardContainer-DKOaXtRV.js";import{z as ge,I as yn,l as us,r as wn,e as L,a as V,c as Fe,f as p,w as y,F as Sn,d as vn,A as me,u as Et,J as bn,K as kn,b as u,t as O,g as $e,B as Xe,q as tt,C as Dn}from"./index-BdtFjfGC.js";import{i as Cn}from"./index-D2HgxUDj.js";import{t as Tn,a as Mn}from"./tableStyle-Gq2twnfY.js";const En={class:"d-flex"},In={__name:"EquipmentSelector",emits:["equipmentSelected"],setup(t,{emit:e}){const s=e,n=yn(),r=us({Floor:0,Name:"",Type:"",EquipmentName:""}),i=wn("");let o=us({});const a=d=>{i.value="",r.Floor=d.Floor,r.Name=d.Name,o=n.getEquipmentByField(r),console.log(o)},c=d=>{r.EquipmentName=d,s("equipmentSelected",r)};return(d,m)=>{const x=L("el-option"),H=L("el-select");return V(),Fe("div",En,[p(pn,{onFieldChange:a}),p(H,{class:"selector mx-2",modelValue:i.value,"onUpdate:modelValue":m[0]||(m[0]=Ne=>i.value=Ne),placeholder:"選擇設備",onChange:c},{default:y(()=>[(V(!0),Fe(Sn,null,vn(Et(o),Ne=>(V(),me(x,{key:Ne.Name,label:Ne.Name,value:Ne.Name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])}}},Pn=ge(In,[["__scopeId","data-v-8d944b0e"]]);class we extends Error{constructor(e,s){const n=new.target.prototype;super(`${e}: Status code '${s}'`),this.statusCode=s,this.__proto__=n}}class Lt extends Error{constructor(e="A timeout occurred."){const s=new.target.prototype;super(e),this.__proto__=s}}class G extends Error{constructor(e="An abort occurred."){const s=new.target.prototype;super(e),this.__proto__=s}}class xn extends Error{constructor(e,s){const n=new.target.prototype;super(e),this.transport=s,this.errorType="UnsupportedTransportError",this.__proto__=n}}class Rn extends Error{constructor(e,s){const n=new.target.prototype;super(e),this.transport=s,this.errorType="DisabledTransportError",this.__proto__=n}}class On extends Error{constructor(e,s){const n=new.target.prototype;super(e),this.transport=s,this.errorType="FailedToStartTransportError",this.__proto__=n}}class hs extends Error{constructor(e){const s=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=s}}class Yn extends Error{constructor(e,s){const n=new.target.prototype;super(e),this.innerErrors=s,this.__proto__=n}}class bs{constructor(e,s,n){this.statusCode=e,this.statusText=s,this.content=n}}class ht{get(e,s){return this.send({...s,method:"GET",url:e})}post(e,s){return this.send({...s,method:"POST",url:e})}delete(e,s){return this.send({...s,method:"DELETE",url:e})}getCookieString(e){return""}}var l;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"})(l||(l={}));class He{constructor(){}log(e,s){}}He.instance=new He;const Nn="8.0.7";class Y{static isRequired(e,s){if(e==null)throw new Error(`The '${s}' argument is required.`)}static isNotEmpty(e,s){if(!e||e.match(/^\s*$/))throw new Error(`The '${s}' argument should not be empty.`)}static isIn(e,s,n){if(!(e in s))throw new Error(`Unknown ${n} value: ${e}.`)}}class P{static get isBrowser(){return!P.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!P.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!P.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function Ue(t,e){let s="";return be(t)?(s=`Binary data of length ${t.byteLength}`,e&&(s+=`. Content: '${$n(t)}'`)):typeof t=="string"&&(s=`String data of length ${t.length}`,e&&(s+=`. Content: '${t}'`)),s}function $n(t){const e=new Uint8Array(t);let s="";return e.forEach(n=>{const r=n<16?"0":"";s+=`0x${r}${n.toString(16)} `}),s.substr(0,s.length-1)}function be(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}async function ks(t,e,s,n,r,i){const o={},[a,c]=xe();o[a]=c,t.log(l.Trace,`(${e} transport) sending data. ${Ue(r,i.logMessageContent)}.`);const d=be(r)?"arraybuffer":"text",m=await s.post(n,{content:r,headers:{...o,...i.headers},responseType:d,timeout:i.timeout,withCredentials:i.withCredentials});t.log(l.Trace,`(${e} transport) request complete. Response status: ${m.statusCode}.`)}function Wn(t){return t===void 0?new it(l.Information):t===null?He.instance:t.log!==void 0?t:new it(t)}class An{constructor(e,s){this._subject=e,this._observer=s}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(s=>{})}}class it{constructor(e){this._minLevel=e,this.out=console}log(e,s){if(e>=this._minLevel){const n=`[${new Date().toISOString()}] ${l[e]}: ${s}`;switch(e){case l.Critical:case l.Error:this.out.error(n);break;case l.Warning:this.out.warn(n);break;case l.Information:this.out.info(n);break;default:this.out.log(n);break}}}}function xe(){let t="X-SignalR-User-Agent";return P.isNode&&(t="User-Agent"),[t,Ln(Nn,Fn(),Un(),Hn())]}function Ln(t,e,s,n){let r="Microsoft SignalR/";const i=t.split(".");return r+=`${i[0]}.${i[1]}`,r+=` (${t}; `,e&&e!==""?r+=`${e}; `:r+="Unknown OS; ",r+=`${s}`,n?r+=`; ${n}`:r+="; Unknown Runtime Version",r+=")",r}function Fn(){if(P.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function Hn(){if(P.isNode)return process.versions.node}function Un(){return P.isNode?"NodeJS":"Browser"}function kt(t){return t.stack?t.stack:t.message?t.message:`${t}`}function Vn(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class jn extends ht{constructor(e){if(super(),this._logger=e,typeof fetch>"u"||P.isNode){const s=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(s("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=s("node-fetch"):this._fetchType=fetch,this._fetchType=s("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(Vn());if(typeof AbortController>"u"){const s=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=s("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new G;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const s=new this._abortControllerType;let n;e.abortSignal&&(e.abortSignal.onabort=()=>{s.abort(),n=new G});let r=null;if(e.timeout){const c=e.timeout;r=setTimeout(()=>{s.abort(),this._logger.log(l.Warning,"Timeout from HTTP request."),n=new Lt},c)}e.content===""&&(e.content=void 0),e.content&&(e.headers=e.headers||{},be(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");let i;try{i=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:e.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:s.signal})}catch(c){throw n||(this._logger.log(l.Warning,`Error from HTTP request. ${c}.`),c)}finally{r&&clearTimeout(r),e.abortSignal&&(e.abortSignal.onabort=null)}if(!i.ok){const c=await ds(i,"text");throw new we(c||i.statusText,i.status)}const a=await ds(i,e.responseType);return new bs(i.status,i.statusText,a)}getCookieString(e){let s="";return P.isNode&&this._jar&&this._jar.getCookies(e,(n,r)=>s=r.join("; ")),s}}function ds(t,e){let s;switch(e){case"arraybuffer":s=t.arrayBuffer();break;case"text":s=t.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`);default:s=t.text();break}return s}class Bn extends ht{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new G):e.method?e.url?new Promise((s,n)=>{const r=new XMLHttpRequest;r.open(e.method,e.url,!0),r.withCredentials=e.withCredentials===void 0?!0:e.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.content===""&&(e.content=void 0),e.content&&(be(e.content)?r.setRequestHeader("Content-Type","application/octet-stream"):r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const i=e.headers;i&&Object.keys(i).forEach(o=>{r.setRequestHeader(o,i[o])}),e.responseType&&(r.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{r.abort(),n(new G)}),e.timeout&&(r.timeout=e.timeout),r.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),r.status>=200&&r.status<300?s(new bs(r.status,r.statusText,r.response||r.responseText)):n(new we(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(l.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),n(new we(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(l.Warning,"Timeout from HTTP request."),n(new Lt)},r.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class qn extends ht{constructor(e){if(super(),typeof fetch<"u"||P.isNode)this._httpClient=new jn(e);else if(typeof XMLHttpRequest<"u")this._httpClient=new Bn(e);else throw new Error("No usable HttpClient found.")}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new G):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class U{static write(e){return`${e}${U.RecordSeparator}`}static parse(e){if(e[e.length-1]!==U.RecordSeparator)throw new Error("Message is incomplete.");const s=e.split(U.RecordSeparator);return s.pop(),s}}U.RecordSeparatorCode=30;U.RecordSeparator=String.fromCharCode(U.RecordSeparatorCode);class zn{writeHandshakeRequest(e){return U.write(JSON.stringify(e))}parseHandshakeResponse(e){let s,n;if(be(e)){const a=new Uint8Array(e),c=a.indexOf(U.RecordSeparatorCode);if(c===-1)throw new Error("Message is incomplete.");const d=c+1;s=String.fromCharCode.apply(null,Array.prototype.slice.call(a.slice(0,d))),n=a.byteLength>d?a.slice(d).buffer:null}else{const a=e,c=a.indexOf(U.RecordSeparator);if(c===-1)throw new Error("Message is incomplete.");const d=c+1;s=a.substring(0,d),n=a.length>d?a.substring(d):null}const r=U.parse(s),i=JSON.parse(r[0]);if(i.type)throw new Error("Expected a handshake response from the server.");return[n,i]}}var w;(function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close",t[t.Ack=8]="Ack",t[t.Sequence=9]="Sequence"})(w||(w={}));class Gn{constructor(){this.observers=[]}next(e){for(const s of this.observers)s.next(e)}error(e){for(const s of this.observers)s.error&&s.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new An(this,e)}}class Zn{constructor(e,s,n){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=s,this._bufferSize=n}async _send(e){const s=this._protocol.writeMessage(e);let n=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let r=()=>{},i=()=>{};be(s)?this._bufferedByteCount+=s.byteLength:this._bufferedByteCount+=s.length,this._bufferedByteCount>=this._bufferSize&&(n=new Promise((o,a)=>{r=o,i=a})),this._messages.push(new Jn(s,this._totalMessageCount,r,i))}try{this._reconnectInProgress||await this._connection.send(s)}catch{this._disconnected()}await n}_ack(e){let s=-1;for(let n=0;n<this._messages.length;n++){const r=this._messages[n];if(r._id<=e.sequenceId)s=n,be(r._message)?this._bufferedByteCount-=r._message.byteLength:this._bufferedByteCount-=r._message.length,r._resolver();else if(this._bufferedByteCount<this._bufferSize)r._resolver();else break}s!==-1&&(this._messages=this._messages.slice(s+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type!==w.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const s=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,s<=this._latestReceivedSequenceId?(s===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=s,this._ackTimer(),!0)}_resetSequence(e){if(e.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:w.Sequence,sequenceId:e}));const s=this._messages;for(const n of s)await this._connection.send(n._message);this._reconnectInProgress=!1}_dispose(e){e??(e=new Error("Unable to reconnect to server."));for(const s of this._messages)s._rejector(e)}_isInvocationMessage(e){switch(e.type){case w.Invocation:case w.StreamItem:case w.Completion:case w.StreamInvocation:case w.CancelInvocation:return!0;case w.Close:case w.Sequence:case w.Ping:case w.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:w.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class Jn{constructor(e,s,n,r){this._message=e,this._id=s,this._resolver=n,this._rejector=r}}const Xn=30*1e3,Kn=15*1e3,Qn=1e5;var E;(function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"})(E||(E={}));class Ft{static create(e,s,n,r,i,o,a){return new Ft(e,s,n,r,i,o,a)}constructor(e,s,n,r,i,o,a){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(l.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Y.isRequired(e,"connection"),Y.isRequired(s,"logger"),Y.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=i??Xn,this.keepAliveIntervalInMilliseconds=o??Kn,this._statefulReconnectBufferSize=a??Qn,this._logger=s,this._protocol=n,this.connection=e,this._reconnectPolicy=r,this._handshakeProtocol=new zn,this.connection.onreceive=c=>this._processIncomingData(c),this.connection.onclose=c=>this._connectionClosed(c),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=E.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:w.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==E.Disconnected&&this._connectionState!==E.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==E.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=E.Connecting,this._logger.log(l.Debug,"Starting HubConnection.");try{await this._startInternal(),P.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=E.Connected,this._connectionStarted=!0,this._logger.log(l.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=E.Disconnected,this._logger.log(l.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise((s,n)=>{this._handshakeResolver=s,this._handshakeRejecter=n});await this.connection.start(this._protocol.transferFormat);try{let s=this._protocol.version;this.connection.features.reconnect||(s=1);const n={protocol:this._protocol.name,version:s};if(this._logger.log(l.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(n)),this._logger.log(l.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new Zn(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(s){throw this._logger.log(l.Debug,`Hub handshake failed with error '${s}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(s),s}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch{}}_stopInternal(e){if(this._connectionState===E.Disconnected)return this._logger.log(l.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===E.Disconnecting)return this._logger.log(l.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const s=this._connectionState;return this._connectionState=E.Disconnecting,this._logger.log(l.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(l.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(s===E.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new G("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...s){const[n,r]=this._replaceStreamingParams(s),i=this._createStreamInvocation(e,s,r);let o;const a=new Gn;return a.cancelCallback=()=>{const c=this._createCancelInvocation(i.invocationId);return delete this._callbacks[i.invocationId],o.then(()=>this._sendWithProtocol(c))},this._callbacks[i.invocationId]=(c,d)=>{if(d){a.error(d);return}else c&&(c.type===w.Completion?c.error?a.error(new Error(c.error)):a.complete():a.next(c.item))},o=this._sendWithProtocol(i).catch(c=>{a.error(c),delete this._callbacks[i.invocationId]}),this._launchStreams(n,o),a}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...s){const[n,r]=this._replaceStreamingParams(s),i=this._sendWithProtocol(this._createInvocation(e,s,!0,r));return this._launchStreams(n,i),i}invoke(e,...s){const[n,r]=this._replaceStreamingParams(s),i=this._createInvocation(e,s,!1,r);return new Promise((a,c)=>{this._callbacks[i.invocationId]=(m,x)=>{if(x){c(x);return}else m&&(m.type===w.Completion?m.error?c(new Error(m.error)):a(m.result):c(new Error(`Unexpected message type: ${m.type}`)))};const d=this._sendWithProtocol(i).catch(m=>{c(m),delete this._callbacks[i.invocationId]});this._launchStreams(n,d)})}on(e,s){!e||!s||(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),this._methods[e].indexOf(s)===-1&&this._methods[e].push(s))}off(e,s){if(!e)return;e=e.toLowerCase();const n=this._methods[e];if(n)if(s){const r=n.indexOf(s);r!==-1&&(n.splice(r,1),n.length===0&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const s=this._protocol.parseMessages(e,this._logger);for(const n of s)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(n)))switch(n.type){case w.Invocation:this._invokeClientMethod(n).catch(r=>{this._logger.log(l.Error,`Invoke client method threw error: ${kt(r)}`)});break;case w.StreamItem:case w.Completion:{const r=this._callbacks[n.invocationId];if(r){n.type===w.Completion&&delete this._callbacks[n.invocationId];try{r(n)}catch(i){this._logger.log(l.Error,`Stream callback threw error: ${kt(i)}`)}}break}case w.Ping:break;case w.Close:{this._logger.log(l.Information,"Close message received from server.");const r=n.error?new Error("Server returned an error on close: "+n.error):void 0;n.allowReconnect===!0?this.connection.stop(r):this._stopPromise=this._stopInternal(r);break}case w.Ack:this._messageBuffer&&this._messageBuffer._ack(n);break;case w.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(n);break;default:this._logger.log(l.Warning,`Invalid message type: ${n.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let s,n;try{[n,s]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(r){const i="Error parsing handshake response: "+r;this._logger.log(l.Error,i);const o=new Error(i);throw this._handshakeRejecter(o),o}if(s.error){const r="Server returned handshake error: "+s.error;this._logger.log(l.Error,r);const i=new Error(r);throw this._handshakeRejecter(i),i}else this._logger.log(l.Debug,"Server handshake complete.");return this._handshakeResolver(),n}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let e=this._nextKeepAlive-new Date().getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===E.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const s=e.target.toLowerCase(),n=this._methods[s];if(!n){this._logger.log(l.Warning,`No client method with the name '${s}' found.`),e.invocationId&&(this._logger.log(l.Warning,`No result given for '${s}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)));return}const r=n.slice(),i=!!e.invocationId;let o,a,c;for(const d of r)try{const m=o;o=await d.apply(this,e.arguments),i&&o&&m&&(this._logger.log(l.Error,`Multiple results provided for '${s}'. Sending error to server.`),c=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),a=void 0}catch(m){a=m,this._logger.log(l.Error,`A callback for the method '${s}' threw error '${m}'.`)}c?await this._sendWithProtocol(c):i?(a?c=this._createCompletionMessage(e.invocationId,`${a}`,null):o!==void 0?c=this._createCompletionMessage(e.invocationId,null,o):(this._logger.log(l.Warning,`No result given for '${s}' method and invocation ID '${e.invocationId}'.`),c=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(c)):o&&this._logger.log(l.Error,`Result given for '${s}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(l.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new G("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===E.Disconnecting?this._completeClose(e):this._connectionState===E.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===E.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=E.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(e??new Error("Connection closed.")),this._messageBuffer=void 0),P.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(s=>s.apply(this,[e]))}catch(s){this._logger.log(l.Error,`An onclose callback called with error '${e}' threw error '${s}'.`)}}}async _reconnect(e){const s=Date.now();let n=0,r=e!==void 0?e:new Error("Attempting to reconnect due to a unknown error."),i=this._getNextRetryDelay(n++,0,r);if(i===null){this._logger.log(l.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(e);return}if(this._connectionState=E.Reconnecting,e?this._logger.log(l.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(l.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(o=>o.apply(this,[e]))}catch(o){this._logger.log(l.Error,`An onreconnecting callback called with error '${e}' threw error '${o}'.`)}if(this._connectionState!==E.Reconnecting){this._logger.log(l.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;i!==null;){if(this._logger.log(l.Information,`Reconnect attempt number ${n} will start in ${i} ms.`),await new Promise(o=>{this._reconnectDelayHandle=setTimeout(o,i)}),this._reconnectDelayHandle=void 0,this._connectionState!==E.Reconnecting){this._logger.log(l.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=E.Connected,this._logger.log(l.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(o=>o.apply(this,[this.connection.connectionId]))}catch(o){this._logger.log(l.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${o}'.`)}return}catch(o){if(this._logger.log(l.Information,`Reconnect attempt failed because of error '${o}'.`),this._connectionState!==E.Reconnecting){this._logger.log(l.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===E.Disconnecting&&this._completeClose();return}r=o instanceof Error?o:new Error(o.toString()),i=this._getNextRetryDelay(n++,Date.now()-s,r)}}this._logger.log(l.Information,`Reconnect retries have been exhausted after ${Date.now()-s} ms and ${n} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,s,n){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:s,previousRetryCount:e,retryReason:n})}catch(r){return this._logger.log(l.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${s}) threw error '${r}'.`),null}}_cancelCallbacksWithError(e){const s=this._callbacks;this._callbacks={},Object.keys(s).forEach(n=>{const r=s[n];try{r(null,e)}catch(i){this._logger.log(l.Error,`Stream 'error' callback called with '${e}' threw error: ${kt(i)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,s,n,r){if(n)return r.length!==0?{arguments:s,streamIds:r,target:e,type:w.Invocation}:{arguments:s,target:e,type:w.Invocation};{const i=this._invocationId;return this._invocationId++,r.length!==0?{arguments:s,invocationId:i.toString(),streamIds:r,target:e,type:w.Invocation}:{arguments:s,invocationId:i.toString(),target:e,type:w.Invocation}}}_launchStreams(e,s){if(e.length!==0){s||(s=Promise.resolve());for(const n in e)e[n].subscribe({complete:()=>{s=s.then(()=>this._sendWithProtocol(this._createCompletionMessage(n)))},error:r=>{let i;r instanceof Error?i=r.message:r&&r.toString?i=r.toString():i="Unknown error",s=s.then(()=>this._sendWithProtocol(this._createCompletionMessage(n,i)))},next:r=>{s=s.then(()=>this._sendWithProtocol(this._createStreamItemMessage(n,r)))}})}}_replaceStreamingParams(e){const s=[],n=[];for(let r=0;r<e.length;r++){const i=e[r];if(this._isObservable(i)){const o=this._invocationId;this._invocationId++,s[o]=i,n.push(o.toString()),e.splice(r,1)}}return[s,n]}_isObservable(e){return e&&e.subscribe&&typeof e.subscribe=="function"}_createStreamInvocation(e,s,n){const r=this._invocationId;return this._invocationId++,n.length!==0?{arguments:s,invocationId:r.toString(),streamIds:n,target:e,type:w.StreamInvocation}:{arguments:s,invocationId:r.toString(),target:e,type:w.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:w.CancelInvocation}}_createStreamItemMessage(e,s){return{invocationId:e,item:s,type:w.StreamItem}}_createCompletionMessage(e,s,n){return s?{error:s,invocationId:e,type:w.Completion}:{invocationId:e,result:n,type:w.Completion}}_createCloseMessage(){return{type:w.Close}}}const er=[0,2e3,1e4,3e4,null];class fs{constructor(e){this._retryDelays=e!==void 0?[...e,null]:er}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class Se{}Se.Authorization="Authorization";Se.Cookie="Cookie";class tr extends ht{constructor(e,s){super(),this._innerClient=e,this._accessTokenFactory=s}async send(e){let s=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(s=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const n=await this._innerClient.send(e);return s&&n.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):n}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[Se.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[Se.Authorization]&&delete e.headers[Se.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var N;(function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"})(N||(N={}));var W;(function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"})(W||(W={}));let sr=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class _s{get pollAborted(){return this._pollAbort.aborted}constructor(e,s,n){this._httpClient=e,this._logger=s,this._pollAbort=new sr,this._options=n,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,s){if(Y.isRequired(e,"url"),Y.isRequired(s,"transferFormat"),Y.isIn(s,W,"transferFormat"),this._url=e,this._logger.log(l.Trace,"(LongPolling transport) Connecting."),s===W.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[n,r]=xe(),i={[n]:r,...this._options.headers},o={abortSignal:this._pollAbort.signal,headers:i,timeout:1e5,withCredentials:this._options.withCredentials};s===W.Binary&&(o.responseType="arraybuffer");const a=`${e}&_=${Date.now()}`;this._logger.log(l.Trace,`(LongPolling transport) polling: ${a}.`);const c=await this._httpClient.get(a,o);c.statusCode!==200?(this._logger.log(l.Error,`(LongPolling transport) Unexpected response code: ${c.statusCode}.`),this._closeError=new we(c.statusText||"",c.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,o)}async _poll(e,s){try{for(;this._running;)try{const n=`${e}&_=${Date.now()}`;this._logger.log(l.Trace,`(LongPolling transport) polling: ${n}.`);const r=await this._httpClient.get(n,s);r.statusCode===204?(this._logger.log(l.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):r.statusCode!==200?(this._logger.log(l.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new we(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(l.Trace,`(LongPolling transport) data received. ${Ue(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(l.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(n){this._running?n instanceof Lt?this._logger.log(l.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=n,this._running=!1):this._logger.log(l.Trace,`(LongPolling transport) Poll errored after shutdown: ${n.message}`)}}finally{this._logger.log(l.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?ks(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(l.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(l.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[s,n]=xe();e[s]=n;const r={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let i;try{await this._httpClient.delete(this._url,r)}catch(o){i=o}i?i instanceof we&&(i.statusCode===404?this._logger.log(l.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(l.Trace,`(LongPolling transport) Error sending a DELETE request: ${i}`)):this._logger.log(l.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(l.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(l.Trace,e),this.onclose(this._closeError)}}}class nr{constructor(e,s,n,r){this._httpClient=e,this._accessToken=s,this._logger=n,this._options=r,this.onreceive=null,this.onclose=null}async connect(e,s){return Y.isRequired(e,"url"),Y.isRequired(s,"transferFormat"),Y.isIn(s,W,"transferFormat"),this._logger.log(l.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((n,r)=>{let i=!1;if(s!==W.Text){r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let o;if(P.isBrowser||P.isWebWorker)o=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const a=this._httpClient.getCookieString(e),c={};c.Cookie=a;const[d,m]=xe();c[d]=m,o=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...c,...this._options.headers}})}try{o.onmessage=a=>{if(this.onreceive)try{this._logger.log(l.Trace,`(SSE transport) data received. ${Ue(a.data,this._options.logMessageContent)}.`),this.onreceive(a.data)}catch(c){this._close(c);return}},o.onerror=a=>{i?this._close():r(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},o.onopen=()=>{this._logger.log(l.Information,`SSE connected to ${this._url}`),this._eventSource=o,i=!0,n()}}catch(a){r(a);return}})}async send(e){return this._eventSource?ks(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class rr{constructor(e,s,n,r,i,o){this._logger=n,this._accessTokenFactory=s,this._logMessageContent=r,this._webSocketConstructor=i,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=o}async connect(e,s){Y.isRequired(e,"url"),Y.isRequired(s,"transferFormat"),Y.isIn(s,W,"transferFormat"),this._logger.log(l.Trace,"(WebSockets transport) Connecting.");let n;return this._accessTokenFactory&&(n=await this._accessTokenFactory()),new Promise((r,i)=>{e=e.replace(/^http/,"ws");let o;const a=this._httpClient.getCookieString(e);let c=!1;if(P.isNode||P.isReactNative){const d={},[m,x]=xe();d[m]=x,n&&(d[Se.Authorization]=`Bearer ${n}`),a&&(d[Se.Cookie]=a),o=new this._webSocketConstructor(e,void 0,{headers:{...d,...this._headers}})}else n&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(n)}`);o||(o=new this._webSocketConstructor(e)),s===W.Binary&&(o.binaryType="arraybuffer"),o.onopen=d=>{this._logger.log(l.Information,`WebSocket connected to ${e}.`),this._webSocket=o,c=!0,r()},o.onerror=d=>{let m=null;typeof ErrorEvent<"u"&&d instanceof ErrorEvent?m=d.error:m="There was an error with the transport",this._logger.log(l.Information,`(WebSockets transport) ${m}.`)},o.onmessage=d=>{if(this._logger.log(l.Trace,`(WebSockets transport) data received. ${Ue(d.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(d.data)}catch(m){this._close(m);return}},o.onclose=d=>{if(c)this._close(d);else{let m=null;typeof ErrorEvent<"u"&&d instanceof ErrorEvent?m=d.error:m="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",i(new Error(m))}}})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(l.Trace,`(WebSockets transport) sending data. ${Ue(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(l.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(e)&&(e.wasClean===!1||e.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)):e instanceof Error?this.onclose(e):this.onclose())}_isCloseEvent(e){return e&&typeof e.wasClean=="boolean"&&typeof e.code=="number"}}const gs=100;class ir{constructor(e,s={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Y.isRequired(e,"url"),this._logger=Wn(s.logger),this.baseUrl=this._resolveUrl(e),s=s||{},s.logMessageContent=s.logMessageContent===void 0?!1:s.logMessageContent,typeof s.withCredentials=="boolean"||s.withCredentials===void 0)s.withCredentials=s.withCredentials===void 0?!0:s.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");s.timeout=s.timeout===void 0?100*1e3:s.timeout;let n=null,r=null;if(P.isNode&&typeof require<"u"){const i=typeof __webpack_require__=="function"?__non_webpack_require__:require;n=i("ws"),r=i("eventsource")}!P.isNode&&typeof WebSocket<"u"&&!s.WebSocket?s.WebSocket=WebSocket:P.isNode&&!s.WebSocket&&n&&(s.WebSocket=n),!P.isNode&&typeof EventSource<"u"&&!s.EventSource?s.EventSource=EventSource:P.isNode&&!s.EventSource&&typeof r<"u"&&(s.EventSource=r),this._httpClient=new tr(s.httpClient||new qn(this._logger),s.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=s,this.onreceive=null,this.onclose=null}async start(e){if(e=e||W.Binary,Y.isIn(e,W,"transferFormat"),this._logger.log(l.Debug,`Starting connection with transfer format '${W[e]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,this._connectionState==="Disconnecting"){const s="Failed to start the HttpConnection before stop() was called.";return this._logger.log(l.Error,s),await this._stopPromise,Promise.reject(new G(s))}else if(this._connectionState!=="Connected"){const s="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(l.Error,s),Promise.reject(new G(s))}this._connectionStarted=!0}send(e){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Ht(this.transport)),this._sendQueue.send(e))}async stop(e){if(this._connectionState==="Disconnected")return this._logger.log(l.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(l.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(s=>{this._stopPromiseResolver=s}),await this._stopInternal(e),await this._stopPromise}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(s){this._logger.log(l.Error,`HttpConnection.transport.stop() threw error '${s}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(l.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let s=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===N.WebSockets)this.transport=this._constructTransport(N.WebSockets),await this._startTransport(s,e);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let n=null,r=0;do{if(n=await this._getNegotiationResponse(s),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new G("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(n.url&&(s=n.url),n.accessToken){const i=n.accessToken;this._accessTokenFactory=()=>i,this._httpClient._accessToken=i,this._httpClient._accessTokenFactory=void 0}r++}while(n.url&&r<gs);if(r===gs&&n.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(s,this._options.transport,n,e)}this.transport instanceof _s&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(l.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(n){return this._logger.log(l.Error,"Failed to start the connection: "+n),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(n)}}async _getNegotiationResponse(e){const s={},[n,r]=xe();s[n]=r;const i=this._resolveNegotiateUrl(e);this._logger.log(l.Debug,`Sending negotiation request: ${i}.`);try{const o=await this._httpClient.post(i,{content:"",headers:{...s,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(o.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${o.statusCode}'`));const a=JSON.parse(o.content);return(!a.negotiateVersion||a.negotiateVersion<1)&&(a.connectionToken=a.connectionId),a.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new hs("Client didn't negotiate Stateful Reconnect but the server did.")):a}catch(o){let a="Failed to complete negotiation with the server: "+o;return o instanceof we&&o.statusCode===404&&(a=a+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(l.Error,a),Promise.reject(new hs(a))}}_createConnectUrl(e,s){return s?e+(e.indexOf("?")===-1?"?":"&")+`id=${s}`:e}async _createTransport(e,s,n,r){let i=this._createConnectUrl(e,n.connectionToken);if(this._isITransport(s)){this._logger.log(l.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=s,await this._startTransport(i,r),this.connectionId=n.connectionId;return}const o=[],a=n.availableTransports||[];let c=n;for(const d of a){const m=this._resolveTransportOrError(d,s,r,(c==null?void 0:c.useStatefulReconnect)===!0);if(m instanceof Error)o.push(`${d.transport} failed:`),o.push(m);else if(this._isITransport(m)){if(this.transport=m,!c){try{c=await this._getNegotiationResponse(e)}catch(x){return Promise.reject(x)}i=this._createConnectUrl(e,c.connectionToken)}try{await this._startTransport(i,r),this.connectionId=c.connectionId;return}catch(x){if(this._logger.log(l.Error,`Failed to start the transport '${d.transport}': ${x}`),c=void 0,o.push(new On(`${d.transport} failed: ${x}`,N[d.transport])),this._connectionState!=="Connecting"){const H="Failed to select transport before stop() was called.";return this._logger.log(l.Debug,H),Promise.reject(new G(H))}}}}return o.length>0?Promise.reject(new Yn(`Unable to connect to the server with any of the available transports. ${o.join(" ")}`,o)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case N.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new rr(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case N.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new nr(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case N.LongPolling:return new _s(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,s){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async n=>{let r=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(e,s),await this.features.resend()}catch{r=!0}else{this._stopConnection(n);return}r&&this._stopConnection(n)}:this.transport.onclose=n=>this._stopConnection(n),this.transport.connect(e,s)}_resolveTransportOrError(e,s,n,r){const i=N[e.transport];if(i==null)return this._logger.log(l.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(or(s,i))if(e.transferFormats.map(a=>W[a]).indexOf(n)>=0){if(i===N.WebSockets&&!this._options.WebSocket||i===N.ServerSentEvents&&!this._options.EventSource)return this._logger.log(l.Debug,`Skipping transport '${N[i]}' because it is not supported in your environment.'`),new xn(`'${N[i]}' is not supported in your environment.`,i);this._logger.log(l.Debug,`Selecting transport '${N[i]}'.`);try{return this.features.reconnect=i===N.WebSockets?r:void 0,this._constructTransport(i)}catch(a){return a}}else return this._logger.log(l.Debug,`Skipping transport '${N[i]}' because it does not support the requested transfer format '${W[n]}'.`),new Error(`'${N[i]}' does not support ${W[n]}.`);else return this._logger.log(l.Debug,`Skipping transport '${N[i]}' because it was disabled by the client.`),new Rn(`'${N[i]}' is disabled by the client.`,i)}_isITransport(e){return e&&typeof e=="object"&&"connect"in e}_stopConnection(e){if(this._logger.log(l.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(l.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(l.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),e?this._logger.log(l.Error,`Connection disconnected with error '${e}'.`):this._logger.log(l.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(s=>{this._logger.log(l.Error,`TransportSendQueue.stop() threw error '${s}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(s){this._logger.log(l.Error,`HttpConnection.onclose(${e}) threw error '${s}'.`)}}}_resolveUrl(e){if(e.lastIndexOf("https://",0)===0||e.lastIndexOf("http://",0)===0)return e;if(!P.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const s=window.document.createElement("a");return s.href=e,this._logger.log(l.Information,`Normalizing '${e}' to '${s.href}'.`),s.href}_resolveNegotiateUrl(e){const s=new URL(e);s.pathname.endsWith("/")?s.pathname+="negotiate":s.pathname+="/negotiate";const n=new URLSearchParams(s.searchParams);return n.has("negotiateVersion")||n.append("negotiateVersion",this._negotiateVersion.toString()),n.has("useStatefulReconnect")?n.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&n.append("useStatefulReconnect","true"),s.search=n.toString(),s.toString()}}function or(t,e){return!t||(e&t)!==0}class Ht{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new Ke,this._transportResult=new Ke,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new Ke),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Ke;const e=this._transportResult;this._transportResult=void 0;const s=typeof this._buffer[0]=="string"?this._buffer.join(""):Ht._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(s),e.resolve()}catch(n){e.reject(n)}}}static _concatBuffers(e){const s=e.map(i=>i.byteLength).reduce((i,o)=>i+o),n=new Uint8Array(s);let r=0;for(const i of e)n.set(new Uint8Array(i),r),r+=i.byteLength;return n.buffer}}class Ke{constructor(){this.promise=new Promise((e,s)=>[this._resolver,this._rejecter]=[e,s])}resolve(){this._resolver()}reject(e){this._rejecter(e)}}const ar="json";class lr{constructor(){this.name=ar,this.version=2,this.transferFormat=W.Text}parseMessages(e,s){if(typeof e!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];s===null&&(s=He.instance);const n=U.parse(e),r=[];for(const i of n){const o=JSON.parse(i);if(typeof o.type!="number")throw new Error("Invalid payload.");switch(o.type){case w.Invocation:this._isInvocationMessage(o);break;case w.StreamItem:this._isStreamItemMessage(o);break;case w.Completion:this._isCompletionMessage(o);break;case w.Ping:break;case w.Close:break;case w.Ack:this._isAckMessage(o);break;case w.Sequence:this._isSequenceMessage(o);break;default:s.log(l.Information,"Unknown message type '"+o.type+"' ignored.");continue}r.push(o)}return r}writeMessage(e){return U.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),e.invocationId!==void 0&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),e.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,s){if(typeof e!="string"||e==="")throw new Error(s)}}const cr={trace:l.Trace,debug:l.Debug,info:l.Information,information:l.Information,warn:l.Warning,warning:l.Warning,error:l.Error,critical:l.Critical,none:l.None};function ur(t){const e=cr[t.toLowerCase()];if(typeof e<"u")return e;throw new Error(`Unknown log level: ${t}`)}class hr{configureLogging(e){if(Y.isRequired(e,"logging"),dr(e))this.logger=e;else if(typeof e=="string"){const s=ur(e);this.logger=new it(s)}else this.logger=new it(e);return this}withUrl(e,s){return Y.isRequired(e,"url"),Y.isNotEmpty(e,"url"),this.url=e,typeof s=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...s}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:s},this}withHubProtocol(e){return Y.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new fs(e):this.reconnectPolicy=e:this.reconnectPolicy=new fs,this}withServerTimeout(e){return Y.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return Y.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=e==null?void 0:e.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(e.logger===void 0&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const s=new ir(this.url,e);return Ft.create(s,this.logger||He.instance,this.protocol||new lr,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function dr(t){return t.log!==void 0}let It=class Ds{constructor(){this.Floor=0,this.Field="",this.EquipmentName="",this.Data={OnlineState:"OFFLINE",RunningTask:new fr,DailyTaskStatistics:new Pt,Alarm:new xt,UtilizationViewData:{data:[]},BatLevel:0,BatVoltage:0,BatChargeCurrent:0,BatDisChargeCurrent:0,MotorRightVoltage:0,MotorRightCurrent:0,MotorRightTemperature:0,MotorRightAlarmCode:0,MotorLeftVoltage:0,MotorLeftCurrent:0,MotorLeftTemperature:0,MotorLeftAlarmCode:0,CoordinateX:0,CoordinateY:0,CurrentPathTag:"",Name:"",Description:"",Connected:!1,Tag:0,Status:0}}static fromJSON(e){const s=new Ds;return Object.assign(s,e),s}getCurrentAlarms(){return this.Data.Alarm.CurrentAlarms}getBatteryLevel(){return this.Data.BatLevel}isOnline(){return this.Data.OnlineState==="ONLINE"}getPosition(){return{x:this.Data.CoordinateX,y:this.Data.CoordinateY,tag:this.Data.CurrentPathTag}}getTaskStatistics(){return this.Data.DailyTaskStatistics}hasAlarmType(e){return this.Data.Alarm.CurrentAlarms.some(s=>s.AlarmType===e)}};class fr{constructor(){this.TaskID="-",this.TaskType="-",this.FromStationName="-",this.ToStationName="-"}}class Pt{constructor(){this.TotalTaskNum=0,this.TransferTaskNum=0,this.ChargeTaskNum=0,this.TotalSuccessNum=0,this.TotalFailureNum=0,this.SuccessRate=0}}class xt{constructor(){this.CurrentAlarms=[]}}const _r=bn("realTimeEquipmentData",{state:()=>({equipmentData:{},subscribingVehicleData:new It,isConnected:!1,hubConnection:null}),actions:{clearHubConnection(){this.hubConnection&&(this.hubConnection.stop(),this.hubConnection=null)},subscribeEquipmentData(t){console.log(t);const e=kn.defaults.baseURL;this.clearHubConnection(),this.hubConnection=new hr().withUrl(`${e}/EquipmentStatus?floor=${t.Floor}&field=${t.Name}&equipmentName=${t.EquipmentName}&eqType=${t.Type}`).build(),this.hubConnection.on("EquipmentStatusData",s=>{console.log(s),this.subscribingVehicleData=s}),this.hubConnection.start()}},getters:{getEquipmentData:t=>e=>t.equipmentData[e],getAllEquipmentData:t=>t.equipmentData,getConnectionStatus:t=>t.isConnected}}),gr={class:"vehicle-base-status"},mr={class:"info-container"},pr={class:"info-value"},yr={class:"info-container"},wr={class:"info-value"},Sr={class:"info-container"},vr={class:"info-value"},br={class:"info-container"},kr={class:"info-value text-truncate"},Dr={class:"info-container"},Cr={class:"info-value text-truncate"},Tr={class:"info-container"},Mr={class:"info-value text-truncate"},Er={__name:"BaseStatus",props:{baseStatus:{type:Object,required:!0}},setup(t){return(e,s)=>{const n=L("el-col"),r=L("el-row");return V(),Fe("div",gr,[p(ke,null,{header:y(()=>s[0]||(s[0]=[u("span",null,"Info",-1)])),default:y(()=>[u("div",null,[p(r,null,{default:y(()=>[p(n,{lg:8},{default:y(()=>[u("div",mr,[s[1]||(s[1]=u("span",{class:"info-label"},"Name",-1)),u("span",pr,O(t.baseStatus.name),1)])]),_:1}),p(n,{lg:8},{default:y(()=>[u("div",yr,[s[2]||(s[2]=u("span",{class:"info-label"},"主狀態",-1)),u("span",wr,O(t.baseStatus.onlineState),1)])]),_:1}),p(n,{lg:8},{default:y(()=>[u("div",Sr,[s[3]||(s[3]=u("span",{class:"info-label"},"上線狀態",-1)),u("span",vr,O(t.baseStatus.onlineState),1)])]),_:1})]),_:1}),p(r,{class:"mt-2"},{default:y(()=>[p(n,{lg:8},{default:y(()=>[u("div",br,[s[4]||(s[4]=u("span",{class:"info-label"},"當前任務ID",-1)),u("span",kr,O(t.baseStatus.runningTask.TaskID),1)])]),_:1}),p(n,{lg:8},{default:y(()=>[u("div",Dr,[s[5]||(s[5]=u("span",{class:"info-label"},"任務起點",-1)),u("span",Cr,O(t.baseStatus.runningTask.FromStationName),1)])]),_:1}),p(n,{lg:8},{default:y(()=>[u("div",Tr,[s[6]||(s[6]=u("span",{class:"info-label"},"任務終點",-1)),u("span",Mr,O(t.baseStatus.runningTask.ToStationName),1)])]),_:1})]),_:1})])]),_:1})])}}},Ir=ge(Er,[["__scopeId","data-v-442b3626"]]),Pr={class:"d-flex p-2 align-items-center"},xr={class:"info-container"},Rr={class:"w-100 ms-4 ps-2"},Or={class:"info-container"},Yr={class:"info-value"},Nr={class:"info-container"},$r={class:"info-value"},Wr={class:"info-container"},Ar={class:"info-value"},Lr={__name:"BatteryStatus",props:{batteryStatus:{type:Object,required:!0}},setup(t){return(e,s)=>{const n=L("el-progress"),r=L("el-col"),i=L("el-row");return V(),me(ke,null,{header:y(()=>s[0]||(s[0]=[u("span",null,"電池狀態",-1)])),default:y(()=>[u("div",Pr,[u("div",xr,[p(n,{percentage:t.batteryStatus.batLevel,type:"circle",width:"90"},null,8,["percentage"])]),u("div",Rr,[p(i,{class:"h-50 d-flex align-items-center"},{default:y(()=>[p(r,{span:12},{default:y(()=>[u("div",Or,[s[1]||(s[1]=u("span",{class:"info-label"},"電壓",-1)),u("span",Yr,O(t.batteryStatus.batVoltage),1)])]),_:1}),p(r,{span:12},{default:y(()=>s[2]||(s[2]=[u("div",{class:"info-container"},[u("span",{class:"info-label"},"溫度"),u("span",{class:"info-value"},"-")],-1)])),_:1})]),_:1}),p(i,{class:"h-50 d-flex align-items-center"},{default:y(()=>[p(r,{span:12},{default:y(()=>[u("div",Nr,[s[3]||(s[3]=u("span",{class:"info-label"},"放電電流",-1)),u("span",$r,O(t.batteryStatus.batDisChargeCurrent),1)])]),_:1}),p(r,{span:12},{default:y(()=>[u("div",Wr,[s[4]||(s[4]=u("span",{class:"info-label"},"充電電流",-1)),u("span",Ar,O(t.batteryStatus.batChargeCurrent),1)])]),_:1})]),_:1})])])]),_:1})}}},Fr=ge(Lr,[["__scopeId","data-v-8d63ae7c"]]),Hr={class:"align-items-center p-2"},Ur={class:"info-container"},Vr={class:"info-value"},jr={class:"info-container"},Br={class:"info-value"},qr={class:"info-container"},zr={class:"info-value"},Gr={class:"info-container"},Zr={class:"info-value"},Jr={class:"info-container"},Xr={class:"info-value"},Kr={class:"info-container"},Qr={class:"info-value"},ei={__name:"DriverStatus",props:{motorsStatus:{type:Object,required:!0}},setup(t){return(e,s)=>{const n=L("el-col"),r=L("el-row");return V(),me(ke,null,{header:y(()=>s[0]||(s[0]=[u("span",null,"馬達狀態",-1)])),default:y(()=>[u("div",Hr,[p(r,{class:"d-flex align-items-center"},{default:y(()=>[p(n,{span:8},{default:y(()=>[u("div",Ur,[s[1]||(s[1]=u("span",{class:"info-label"},"[右輪]電壓",-1)),u("span",Vr,O(t.motorsStatus.motorRightVoltage),1)])]),_:1}),p(n,{span:8},{default:y(()=>[u("div",jr,[s[2]||(s[2]=u("span",{class:"info-label"},"[右輪]電流",-1)),u("span",Br,O(t.motorsStatus.motorRightCurrent),1)])]),_:1}),p(n,{span:8},{default:y(()=>[u("div",qr,[s[3]||(s[3]=u("span",{class:"info-label"},"[右輪]異常碼",-1)),u("span",zr,O(t.motorsStatus.motorRightAlarmCode),1)])]),_:1})]),_:1}),p(r,{class:"d-flex align-items-center mt-3"},{default:y(()=>[p(n,{span:8},{default:y(()=>[u("div",Gr,[s[4]||(s[4]=u("span",{class:"info-label"},"[左輪]電壓",-1)),u("span",Zr,O(t.motorsStatus.motorLeftVoltage),1)])]),_:1}),p(n,{span:8},{default:y(()=>[u("div",Jr,[s[5]||(s[5]=u("span",{class:"info-label"},"[左輪]電流",-1)),u("span",Xr,O(t.motorsStatus.motorLeftCurrent),1)])]),_:1}),p(n,{span:8},{default:y(()=>[u("div",Kr,[s[6]||(s[6]=u("span",{class:"info-label"},"[左輪]異常碼",-1)),u("span",Qr,O(t.motorsStatus.motorLeftAlarmCode),1)])]),_:1})]),_:1})])]),_:1})}}},ti=ge(ei,[["__scopeId","data-v-550f2c74"]]),si={components:{CardContainer:ke},mounted(){this.initChart()},props:{data:{type:Object,default:()=>{}},runStatusColor:{type:String,default:"lime"},downStatusColor:{type:String,default:"red"},idleStatusColor:{type:String,default:"orange"},chargingStatusColor:{type:String,default:"blue"}},data(){return{chart:null,option:{backgroundColor:"rgb(24, 24, 24)",grid:{left:"3%",right:"4%",bottom:"3%",top:"3%",containLabel:!0},tooltip:{formatter:function(t){return`${t.marker} ${t.name}: ${new Date(t.value[0]).toLocaleTimeString()} - ${new Date(t.value[1]).toLocaleTimeString()}`}},xAxis:{type:"time",boundaryGap:!1,axisLabel:{formatter:function(t){return new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},axisTick:{alignWithLabel:!0,interval:3600*1e3},splitLine:{show:!0,interval:3600*1e3}},yAxis:{type:"category",data:["Status"]},series:[{type:"custom",renderItem:function(t,e){const s=e.value(2),n=e.coord([e.value(0),s]),r=e.coord([e.value(1),s]),i=e.size([0,1])[1]*1;return{type:"rect",shape:{x:n[0],y:n[1]-i/2,width:r[0]-n[0],height:i},style:e.style()}},itemStyle:{color:function(t){return t.data[3]}},encode:{x:[0,1],y:2},data:[]}]}}},methods:{initChart(){this.chart=Cn(this.$refs.chart),this.chart.setOption(this.option),window.addEventListener("resize",()=>this.chart.resize())}},watch:{data:{handler(t,e){this.option.series[0].data=t.data,this.option.xAxis.min=new Date(new Date().setHours(0,0,0,0)).getTime(),this.chart.setOption(this.option)},deep:!0}}},ni={class:"utilization-rate-chart w-100"},ri={ref:"chart",class:"chart-container border"},ii={class:"legend"},oi={class:"legend-item"},ai={class:"legend-item"},li={class:"legend-item"},ci={class:"legend-item"};function ui(t,e,s,n,r,i){const o=L("CardContainer");return V(),me(o,null,{header:y(()=>e[0]||(e[0]=[$e("24H稼動狀態")])),default:y(()=>[u("div",ni,[u("div",ri,null,512),u("div",ii,[u("div",oi,[u("div",{class:"legend-item-color",style:Xe({backgroundColor:s.downStatusColor})},null,4),e[1]||(e[1]=$e("Down "))]),u("div",ai,[u("div",{class:"legend-item-color",style:Xe({backgroundColor:s.idleStatusColor})},null,4),e[2]||(e[2]=$e("Idle "))]),u("div",li,[u("div",{class:"legend-item-color",style:Xe({backgroundColor:s.runStatusColor})},null,4),e[3]||(e[3]=$e("Run "))]),u("div",ci,[u("div",{class:"legend-item-color",style:Xe({backgroundColor:s.chargingStatusColor})},null,4),e[4]||(e[4]=$e("Charging "))])])])]),_:1})}const hi=ge(si,[["render",ui],["__scopeId","data-v-0d210f1f"]]),di={class:"d-flex w-100 justify-content-between ms-5"},fi={class:"info-container"},_i={class:"w-100 justify-content-between ms-5"},gi={class:"d-flex w-100"},mi={class:"info-container"},pi={class:"info-value"},yi={class:"info-container"},wi={class:"info-value"},Si={class:"info-container"},vi={class:"info-value"},bi={class:"d-flex w-100 mt-2"},ki={class:"info-container"},Di={class:"info-value"},Ci={class:"info-container"},Ti={class:"info-value"},Mi={__name:"TaskRunStatusOfDay",props:{dailyTaskStatistics:{type:Pt,required:!0,default:()=>new Pt}},setup(t){return(e,s)=>{const n=L("el-progress");return V(),me(ke,null,{header:y(()=>s[0]||(s[0]=[u("span",null,"當日任務執行狀態統計",-1)])),default:y(()=>[u("div",di,[u("div",fi,[s[1]||(s[1]=u("span",{class:"info-label"},"成功率",-1)),p(n,{percentage:t.dailyTaskStatistics.SuccessRate,type:"circle",width:"100"},null,8,["percentage"])]),u("div",_i,[u("div",gi,[u("div",mi,[s[2]||(s[2]=u("span",{class:"info-label"},"總任務數",-1)),u("span",pi,O(t.dailyTaskStatistics.TotalTaskNum),1)]),u("div",yi,[s[3]||(s[3]=u("span",{class:"info-label"},"搬運任務數",-1)),u("span",wi,O(t.dailyTaskStatistics.TransferTaskNum),1)]),u("div",Si,[s[4]||(s[4]=u("span",{class:"info-label"},"充電任務數",-1)),u("span",vi,O(t.dailyTaskStatistics.ChargeTaskNum),1)])]),u("div",bi,[u("div",ki,[s[5]||(s[5]=u("span",{class:"info-label"},"成功",-1)),u("span",Di,O(t.dailyTaskStatistics.TotalSuccessNum),1)]),u("div",Ci,[s[6]||(s[6]=u("span",{class:"info-label"},"失敗",-1)),u("span",Ti,O(t.dailyTaskStatistics.TotalFailureNum),1)])])])])]),_:1})}}},Ei=ge(Mi,[["__scopeId","data-v-ea3bd8ba"]]),Ii={__name:"MileageStatus",setup(t){return(e,s)=>(V(),me(ke,null,{header:y(()=>s[0]||(s[0]=[u("span",null,"里程狀態",-1)])),default:y(()=>[s[1]||(s[1]=u("div",{class:"align-items-center pt-2"},[u("span",{class:"mileage-value"},"113.2"),u("span",{class:"mileage-unit"},"km")],-1))]),_:1}))}},Pi=ge(Ii,[["__scopeId","data-v-9d92f788"]]);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Cs;function f(){return Cs.apply(null,arguments)}function xi(t){Cs=t}function J(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function ve(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ut(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(k(t,e))return!1;return!0}function F(t){return t===void 0}function ce(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function ze(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function Ts(t,e){var s=[],n,r=t.length;for(n=0;n<r;++n)s.push(e(t[n],n));return s}function de(t,e){for(var s in e)k(e,s)&&(t[s]=e[s]);return k(e,"toString")&&(t.toString=e.toString),k(e,"valueOf")&&(t.valueOf=e.valueOf),t}function te(t,e,s,n){return Zs(t,e,s,n,!0).utc()}function Ri(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function S(t){return t._pf==null&&(t._pf=Ri()),t._pf}var Rt;Array.prototype.some?Rt=Array.prototype.some:Rt=function(t){var e=Object(this),s=e.length>>>0,n;for(n=0;n<s;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function Vt(t){var e=null,s=!1,n=t._d&&!isNaN(t._d.getTime());if(n&&(e=S(t),s=Rt.call(e.parsedDateParts,function(r){return r!=null}),n=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&s),t._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=n;else return n;return t._isValid}function dt(t){var e=te(NaN);return t!=null?de(S(e),t):S(e).userInvalidated=!0,e}var ms=f.momentProperties=[],Dt=!1;function jt(t,e){var s,n,r,i=ms.length;if(F(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),F(e._i)||(t._i=e._i),F(e._f)||(t._f=e._f),F(e._l)||(t._l=e._l),F(e._strict)||(t._strict=e._strict),F(e._tzm)||(t._tzm=e._tzm),F(e._isUTC)||(t._isUTC=e._isUTC),F(e._offset)||(t._offset=e._offset),F(e._pf)||(t._pf=S(e)),F(e._locale)||(t._locale=e._locale),i>0)for(s=0;s<i;s++)n=ms[s],r=e[n],F(r)||(t[n]=r);return t}function Ge(t){jt(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Dt===!1&&(Dt=!0,f.updateOffset(this),Dt=!1)}function X(t){return t instanceof Ge||t!=null&&t._isAMomentObject!=null}function Ms(t){f.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function q(t,e){var s=!0;return de(function(){if(f.deprecationHandler!=null&&f.deprecationHandler(null,t),s){var n=[],r,i,o,a=arguments.length;for(i=0;i<a;i++){if(r="",typeof arguments[i]=="object"){r+=`
[`+i+"] ";for(o in arguments[0])k(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[i];n.push(r)}Ms(t+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),s=!1}return e.apply(this,arguments)},e)}var ps={};function Es(t,e){f.deprecationHandler!=null&&f.deprecationHandler(t,e),ps[t]||(Ms(e),ps[t]=!0)}f.suppressDeprecationWarnings=!1;f.deprecationHandler=null;function se(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Oi(t){var e,s;for(s in t)k(t,s)&&(e=t[s],se(e)?this[s]=e:this["_"+s]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ot(t,e){var s=de({},t),n;for(n in e)k(e,n)&&(ve(t[n])&&ve(e[n])?(s[n]={},de(s[n],t[n]),de(s[n],e[n])):e[n]!=null?s[n]=e[n]:delete s[n]);for(n in t)k(t,n)&&!k(e,n)&&ve(t[n])&&(s[n]=de({},s[n]));return s}function Bt(t){t!=null&&this.set(t)}var Yt;Object.keys?Yt=Object.keys:Yt=function(t){var e,s=[];for(e in t)k(t,e)&&s.push(e);return s};var Yi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Ni(t,e,s){var n=this._calendar[t]||this._calendar.sameElse;return se(n)?n.call(e,s):n}function ee(t,e,s){var n=""+Math.abs(t),r=e-n.length,i=t>=0;return(i?s?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var qt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Qe=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ct={},Ee={};function g(t,e,s,n){var r=n;typeof n=="string"&&(r=function(){return this[n]()}),t&&(Ee[t]=r),e&&(Ee[e[0]]=function(){return ee(r.apply(this,arguments),e[1],e[2])}),s&&(Ee[s]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function $i(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Wi(t){var e=t.match(qt),s,n;for(s=0,n=e.length;s<n;s++)Ee[e[s]]?e[s]=Ee[e[s]]:e[s]=$i(e[s]);return function(r){var i="",o;for(o=0;o<n;o++)i+=se(e[o])?e[o].call(r,t):e[o];return i}}function st(t,e){return t.isValid()?(e=Is(e,t.localeData()),Ct[e]=Ct[e]||Wi(e),Ct[e](t)):t.localeData().invalidDate()}function Is(t,e){var s=5;function n(r){return e.longDateFormat(r)||r}for(Qe.lastIndex=0;s>=0&&Qe.test(t);)t=t.replace(Qe,n),Qe.lastIndex=0,s-=1;return t}var Ai={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Li(t){var e=this._longDateFormat[t],s=this._longDateFormat[t.toUpperCase()];return e||!s?e:(this._longDateFormat[t]=s.match(qt).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[t])}var Fi="Invalid date";function Hi(){return this._invalidDate}var Ui="%d",Vi=/\d{1,2}/;function ji(t){return this._ordinal.replace("%d",t)}var Bi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function qi(t,e,s,n){var r=this._relativeTime[s];return se(r)?r(t,e,s,n):r.replace(/%d/i,t)}function zi(t,e){var s=this._relativeTime[t>0?"future":"past"];return se(s)?s(e):s.replace(/%s/i,e)}var ys={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function z(t){return typeof t=="string"?ys[t]||ys[t.toLowerCase()]:void 0}function zt(t){var e={},s,n;for(n in t)k(t,n)&&(s=z(n),s&&(e[s]=t[n]));return e}var Gi={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Zi(t){var e=[],s;for(s in t)k(t,s)&&e.push({unit:s,priority:Gi[s]});return e.sort(function(n,r){return n.priority-r.priority}),e}var Ps=/\d/,j=/\d\d/,xs=/\d{3}/,Gt=/\d{4}/,ft=/[+-]?\d{6}/,M=/\d\d?/,Rs=/\d\d\d\d?/,Os=/\d\d\d\d\d\d?/,_t=/\d{1,3}/,Zt=/\d{1,4}/,gt=/[+-]?\d{1,6}/,Re=/\d+/,mt=/[+-]?\d+/,Ji=/Z|[+-]\d\d:?\d\d/gi,pt=/Z|[+-]\d\d(?::?\d\d)?/gi,Xi=/[+-]?\d+(\.\d{1,3})?/,Ze=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Oe=/^[1-9]\d?/,Jt=/^([1-9]\d|\d)/,ot;ot={};function _(t,e,s){ot[t]=se(e)?e:function(n,r){return n&&s?s:e}}function Ki(t,e){return k(ot,t)?ot[t](e._strict,e._locale):new RegExp(Qi(t))}function Qi(t){return ae(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,s,n,r,i){return s||n||r||i}))}function ae(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function B(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function v(t){var e=+t,s=0;return e!==0&&isFinite(e)&&(s=B(e)),s}var Nt={};function C(t,e){var s,n=e,r;for(typeof t=="string"&&(t=[t]),ce(e)&&(n=function(i,o){o[e]=v(i)}),r=t.length,s=0;s<r;s++)Nt[t[s]]=n}function Je(t,e){C(t,function(s,n,r,i){r._w=r._w||{},e(s,r._w,r,i)})}function eo(t,e,s){e!=null&&k(Nt,t)&&Nt[t](e,s._a,s,t)}function yt(t){return t%4===0&&t%100!==0||t%400===0}var A=0,ie=1,Q=2,$=3,Z=4,oe=5,ye=6,to=7,so=8;g("Y",0,0,function(){var t=this.year();return t<=9999?ee(t,4):"+"+t});g(0,["YY",2],0,function(){return this.year()%100});g(0,["YYYY",4],0,"year");g(0,["YYYYY",5],0,"year");g(0,["YYYYYY",6,!0],0,"year");_("Y",mt);_("YY",M,j);_("YYYY",Zt,Gt);_("YYYYY",gt,ft);_("YYYYYY",gt,ft);C(["YYYYY","YYYYYY"],A);C("YYYY",function(t,e){e[A]=t.length===2?f.parseTwoDigitYear(t):v(t)});C("YY",function(t,e){e[A]=f.parseTwoDigitYear(t)});C("Y",function(t,e){e[A]=parseInt(t,10)});function Le(t){return yt(t)?366:365}f.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var Ys=Ye("FullYear",!0);function no(){return yt(this.year())}function Ye(t,e){return function(s){return s!=null?(Ns(this,t,s),f.updateOffset(this,e),this):Ve(this,t)}}function Ve(t,e){if(!t.isValid())return NaN;var s=t._d,n=t._isUTC;switch(e){case"Milliseconds":return n?s.getUTCMilliseconds():s.getMilliseconds();case"Seconds":return n?s.getUTCSeconds():s.getSeconds();case"Minutes":return n?s.getUTCMinutes():s.getMinutes();case"Hours":return n?s.getUTCHours():s.getHours();case"Date":return n?s.getUTCDate():s.getDate();case"Day":return n?s.getUTCDay():s.getDay();case"Month":return n?s.getUTCMonth():s.getMonth();case"FullYear":return n?s.getUTCFullYear():s.getFullYear();default:return NaN}}function Ns(t,e,s){var n,r,i,o,a;if(!(!t.isValid()||isNaN(s))){switch(n=t._d,r=t._isUTC,e){case"Milliseconds":return void(r?n.setUTCMilliseconds(s):n.setMilliseconds(s));case"Seconds":return void(r?n.setUTCSeconds(s):n.setSeconds(s));case"Minutes":return void(r?n.setUTCMinutes(s):n.setMinutes(s));case"Hours":return void(r?n.setUTCHours(s):n.setHours(s));case"Date":return void(r?n.setUTCDate(s):n.setDate(s));case"FullYear":break;default:return}i=s,o=t.month(),a=t.date(),a=a===29&&o===1&&!yt(i)?28:a,r?n.setUTCFullYear(i,o,a):n.setFullYear(i,o,a)}}function ro(t){return t=z(t),se(this[t])?this[t]():this}function io(t,e){if(typeof t=="object"){t=zt(t);var s=Zi(t),n,r=s.length;for(n=0;n<r;n++)this[s[n].unit](t[s[n].unit])}else if(t=z(t),se(this[t]))return this[t](e);return this}function oo(t,e){return(t%e+e)%e}var R;Array.prototype.indexOf?R=Array.prototype.indexOf:R=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Xt(t,e){if(isNaN(t)||isNaN(e))return NaN;var s=oo(e,12);return t+=(e-s)/12,s===1?yt(t)?29:28:31-s%7%2}g("M",["MM",2],"Mo",function(){return this.month()+1});g("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});g("MMMM",0,0,function(t){return this.localeData().months(this,t)});_("M",M,Oe);_("MM",M,j);_("MMM",function(t,e){return e.monthsShortRegex(t)});_("MMMM",function(t,e){return e.monthsRegex(t)});C(["M","MM"],function(t,e){e[ie]=v(t)-1});C(["MMM","MMMM"],function(t,e,s,n){var r=s._locale.monthsParse(t,n,s._strict);r!=null?e[ie]=r:S(s).invalidMonth=t});var ao="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$s="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ws=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,lo=Ze,co=Ze;function uo(t,e){return t?J(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Ws).test(e)?"format":"standalone"][t.month()]:J(this._months)?this._months:this._months.standalone}function ho(t,e){return t?J(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ws.test(e)?"format":"standalone"][t.month()]:J(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function fo(t,e,s){var n,r,i,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=te([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return s?e==="MMM"?(r=R.call(this._shortMonthsParse,o),r!==-1?r:null):(r=R.call(this._longMonthsParse,o),r!==-1?r:null):e==="MMM"?(r=R.call(this._shortMonthsParse,o),r!==-1?r:(r=R.call(this._longMonthsParse,o),r!==-1?r:null)):(r=R.call(this._longMonthsParse,o),r!==-1?r:(r=R.call(this._shortMonthsParse,o),r!==-1?r:null))}function _o(t,e,s){var n,r,i;if(this._monthsParseExact)return fo.call(this,t,e,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=te([2e3,n]),s&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!s&&!this._monthsParse[n]&&(i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),s&&e==="MMMM"&&this._longMonthsParse[n].test(t))return n;if(s&&e==="MMM"&&this._shortMonthsParse[n].test(t))return n;if(!s&&this._monthsParse[n].test(t))return n}}function As(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=v(e);else if(e=t.localeData().monthsParse(e),!ce(e))return t}var s=e,n=t.date();return n=n<29?n:Math.min(n,Xt(t.year(),s)),t._isUTC?t._d.setUTCMonth(s,n):t._d.setMonth(s,n),t}function Ls(t){return t!=null?(As(this,t),f.updateOffset(this,!0),this):Ve(this,"Month")}function go(){return Xt(this.year(),this.month())}function mo(t){return this._monthsParseExact?(k(this,"_monthsRegex")||Fs.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(k(this,"_monthsShortRegex")||(this._monthsShortRegex=lo),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function po(t){return this._monthsParseExact?(k(this,"_monthsRegex")||Fs.call(this),t?this._monthsStrictRegex:this._monthsRegex):(k(this,"_monthsRegex")||(this._monthsRegex=co),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function Fs(){function t(c,d){return d.length-c.length}var e=[],s=[],n=[],r,i,o,a;for(r=0;r<12;r++)i=te([2e3,r]),o=ae(this.monthsShort(i,"")),a=ae(this.months(i,"")),e.push(o),s.push(a),n.push(a),n.push(o);e.sort(t),s.sort(t),n.sort(t),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function yo(t,e,s,n,r,i,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,s,n,r,i,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,s,n,r,i,o),a}function je(t){var e,s;return t<100&&t>=0?(s=Array.prototype.slice.call(arguments),s[0]=t+400,e=new Date(Date.UTC.apply(null,s)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function at(t,e,s){var n=7+e-s,r=(7+je(t,0,n).getUTCDay()-e)%7;return-r+n-1}function Hs(t,e,s,n,r){var i=(7+s-n)%7,o=at(t,n,r),a=1+7*(e-1)+i+o,c,d;return a<=0?(c=t-1,d=Le(c)+a):a>Le(t)?(c=t+1,d=a-Le(t)):(c=t,d=a),{year:c,dayOfYear:d}}function Be(t,e,s){var n=at(t.year(),e,s),r=Math.floor((t.dayOfYear()-n-1)/7)+1,i,o;return r<1?(o=t.year()-1,i=r+le(o,e,s)):r>le(t.year(),e,s)?(i=r-le(t.year(),e,s),o=t.year()+1):(o=t.year(),i=r),{week:i,year:o}}function le(t,e,s){var n=at(t,e,s),r=at(t+1,e,s);return(Le(t)-n+r)/7}g("w",["ww",2],"wo","week");g("W",["WW",2],"Wo","isoWeek");_("w",M,Oe);_("ww",M,j);_("W",M,Oe);_("WW",M,j);Je(["w","ww","W","WW"],function(t,e,s,n){e[n.substr(0,1)]=v(t)});function wo(t){return Be(t,this._week.dow,this._week.doy).week}var So={dow:0,doy:6};function vo(){return this._week.dow}function bo(){return this._week.doy}function ko(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Do(t){var e=Be(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}g("d",0,"do","day");g("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});g("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});g("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});g("e",0,0,"weekday");g("E",0,0,"isoWeekday");_("d",M);_("e",M);_("E",M);_("dd",function(t,e){return e.weekdaysMinRegex(t)});_("ddd",function(t,e){return e.weekdaysShortRegex(t)});_("dddd",function(t,e){return e.weekdaysRegex(t)});Je(["dd","ddd","dddd"],function(t,e,s,n){var r=s._locale.weekdaysParse(t,n,s._strict);r!=null?e.d=r:S(s).invalidWeekday=t});Je(["d","e","E"],function(t,e,s,n){e[n]=v(t)});function Co(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function To(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Kt(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Mo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Us="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Eo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Io=Ze,Po=Ze,xo=Ze;function Ro(t,e){var s=J(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Kt(s,this._week.dow):t?s[t.day()]:s}function Oo(t){return t===!0?Kt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Yo(t){return t===!0?Kt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function No(t,e,s){var n,r,i,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=te([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return s?e==="dddd"?(r=R.call(this._weekdaysParse,o),r!==-1?r:null):e==="ddd"?(r=R.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=R.call(this._minWeekdaysParse,o),r!==-1?r:null):e==="dddd"?(r=R.call(this._weekdaysParse,o),r!==-1||(r=R.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=R.call(this._minWeekdaysParse,o),r!==-1?r:null)):e==="ddd"?(r=R.call(this._shortWeekdaysParse,o),r!==-1||(r=R.call(this._weekdaysParse,o),r!==-1)?r:(r=R.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=R.call(this._minWeekdaysParse,o),r!==-1||(r=R.call(this._weekdaysParse,o),r!==-1)?r:(r=R.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function $o(t,e,s){var n,r,i;if(this._weekdaysParseExact)return No.call(this,t,e,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=te([2e3,1]).day(n),s&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),s&&e==="dddd"&&this._fullWeekdaysParse[n].test(t))return n;if(s&&e==="ddd"&&this._shortWeekdaysParse[n].test(t))return n;if(s&&e==="dd"&&this._minWeekdaysParse[n].test(t))return n;if(!s&&this._weekdaysParse[n].test(t))return n}}function Wo(t){if(!this.isValid())return t!=null?this:NaN;var e=Ve(this,"Day");return t!=null?(t=Co(t,this.localeData()),this.add(t-e,"d")):e}function Ao(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Lo(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=To(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Fo(t){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Qt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(k(this,"_weekdaysRegex")||(this._weekdaysRegex=Io),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ho(t){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Qt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(k(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Po),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Uo(t){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Qt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(k(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=xo),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qt(){function t(m,x){return x.length-m.length}var e=[],s=[],n=[],r=[],i,o,a,c,d;for(i=0;i<7;i++)o=te([2e3,1]).day(i),a=ae(this.weekdaysMin(o,"")),c=ae(this.weekdaysShort(o,"")),d=ae(this.weekdays(o,"")),e.push(a),s.push(c),n.push(d),r.push(a),r.push(c),r.push(d);e.sort(t),s.sort(t),n.sort(t),r.sort(t),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function es(){return this.hours()%12||12}function Vo(){return this.hours()||24}g("H",["HH",2],0,"hour");g("h",["hh",2],0,es);g("k",["kk",2],0,Vo);g("hmm",0,0,function(){return""+es.apply(this)+ee(this.minutes(),2)});g("hmmss",0,0,function(){return""+es.apply(this)+ee(this.minutes(),2)+ee(this.seconds(),2)});g("Hmm",0,0,function(){return""+this.hours()+ee(this.minutes(),2)});g("Hmmss",0,0,function(){return""+this.hours()+ee(this.minutes(),2)+ee(this.seconds(),2)});function Vs(t,e){g(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}Vs("a",!0);Vs("A",!1);function js(t,e){return e._meridiemParse}_("a",js);_("A",js);_("H",M,Jt);_("h",M,Oe);_("k",M,Oe);_("HH",M,j);_("hh",M,j);_("kk",M,j);_("hmm",Rs);_("hmmss",Os);_("Hmm",Rs);_("Hmmss",Os);C(["H","HH"],$);C(["k","kk"],function(t,e,s){var n=v(t);e[$]=n===24?0:n});C(["a","A"],function(t,e,s){s._isPm=s._locale.isPM(t),s._meridiem=t});C(["h","hh"],function(t,e,s){e[$]=v(t),S(s).bigHour=!0});C("hmm",function(t,e,s){var n=t.length-2;e[$]=v(t.substr(0,n)),e[Z]=v(t.substr(n)),S(s).bigHour=!0});C("hmmss",function(t,e,s){var n=t.length-4,r=t.length-2;e[$]=v(t.substr(0,n)),e[Z]=v(t.substr(n,2)),e[oe]=v(t.substr(r)),S(s).bigHour=!0});C("Hmm",function(t,e,s){var n=t.length-2;e[$]=v(t.substr(0,n)),e[Z]=v(t.substr(n))});C("Hmmss",function(t,e,s){var n=t.length-4,r=t.length-2;e[$]=v(t.substr(0,n)),e[Z]=v(t.substr(n,2)),e[oe]=v(t.substr(r))});function jo(t){return(t+"").toLowerCase().charAt(0)==="p"}var Bo=/[ap]\.?m?\.?/i,qo=Ye("Hours",!0);function zo(t,e,s){return t>11?s?"pm":"PM":s?"am":"AM"}var Bs={calendar:Yi,longDateFormat:Ai,invalidDate:Fi,ordinal:Ui,dayOfMonthOrdinalParse:Vi,relativeTime:Bi,months:ao,monthsShort:$s,week:So,weekdays:Mo,weekdaysMin:Eo,weekdaysShort:Us,meridiemParse:Bo},I={},We={},qe;function Go(t,e){var s,n=Math.min(t.length,e.length);for(s=0;s<n;s+=1)if(t[s]!==e[s])return s;return n}function ws(t){return t&&t.toLowerCase().replace("_","-")}function Zo(t){for(var e=0,s,n,r,i;e<t.length;){for(i=ws(t[e]).split("-"),s=i.length,n=ws(t[e+1]),n=n?n.split("-"):null;s>0;){if(r=wt(i.slice(0,s).join("-")),r)return r;if(n&&n.length>=s&&Go(i,n)>=s-1)break;s--}e++}return qe}function Jo(t){return!!(t&&t.match("^[^/\\\\]*$"))}function wt(t){var e=null,s;if(I[t]===void 0&&typeof module<"u"&&module&&module.exports&&Jo(t))try{e=qe._abbr,s=require,s("./locale/"+t),_e(e)}catch{I[t]=null}return I[t]}function _e(t,e){var s;return t&&(F(e)?s=ue(t):s=ts(t,e),s?qe=s:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),qe._abbr}function ts(t,e){if(e!==null){var s,n=Bs;if(e.abbr=t,I[t]!=null)Es("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=I[t]._config;else if(e.parentLocale!=null)if(I[e.parentLocale]!=null)n=I[e.parentLocale]._config;else if(s=wt(e.parentLocale),s!=null)n=s._config;else return We[e.parentLocale]||(We[e.parentLocale]=[]),We[e.parentLocale].push({name:t,config:e}),null;return I[t]=new Bt(Ot(n,e)),We[t]&&We[t].forEach(function(r){ts(r.name,r.config)}),_e(t),I[t]}else return delete I[t],null}function Xo(t,e){if(e!=null){var s,n,r=Bs;I[t]!=null&&I[t].parentLocale!=null?I[t].set(Ot(I[t]._config,e)):(n=wt(t),n!=null&&(r=n._config),e=Ot(r,e),n==null&&(e.abbr=t),s=new Bt(e),s.parentLocale=I[t],I[t]=s),_e(t)}else I[t]!=null&&(I[t].parentLocale!=null?(I[t]=I[t].parentLocale,t===_e()&&_e(t)):I[t]!=null&&delete I[t]);return I[t]}function ue(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return qe;if(!J(t)){if(e=wt(t),e)return e;t=[t]}return Zo(t)}function Ko(){return Yt(I)}function ss(t){var e,s=t._a;return s&&S(t).overflow===-2&&(e=s[ie]<0||s[ie]>11?ie:s[Q]<1||s[Q]>Xt(s[A],s[ie])?Q:s[$]<0||s[$]>24||s[$]===24&&(s[Z]!==0||s[oe]!==0||s[ye]!==0)?$:s[Z]<0||s[Z]>59?Z:s[oe]<0||s[oe]>59?oe:s[ye]<0||s[ye]>999?ye:-1,S(t)._overflowDayOfYear&&(e<A||e>Q)&&(e=Q),S(t)._overflowWeeks&&e===-1&&(e=to),S(t)._overflowWeekday&&e===-1&&(e=so),S(t).overflow=e),t}var Qo=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ea=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ta=/Z|[+-]\d\d(?::?\d\d)?/,et=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Tt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],sa=/^\/?Date\((-?\d+)/i,na=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ra={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function qs(t){var e,s,n=t._i,r=Qo.exec(n)||ea.exec(n),i,o,a,c,d=et.length,m=Tt.length;if(r){for(S(t).iso=!0,e=0,s=d;e<s;e++)if(et[e][1].exec(r[1])){o=et[e][0],i=et[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(r[3]){for(e=0,s=m;e<s;e++)if(Tt[e][1].exec(r[3])){a=(r[2]||" ")+Tt[e][0];break}if(a==null){t._isValid=!1;return}}if(!i&&a!=null){t._isValid=!1;return}if(r[4])if(ta.exec(r[4]))c="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(c||""),rs(t)}else t._isValid=!1}function ia(t,e,s,n,r,i){var o=[oa(t),$s.indexOf(e),parseInt(s,10),parseInt(n,10),parseInt(r,10)];return i&&o.push(parseInt(i,10)),o}function oa(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function aa(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function la(t,e,s){if(t){var n=Us.indexOf(t),r=new Date(e[0],e[1],e[2]).getDay();if(n!==r)return S(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function ca(t,e,s){if(t)return ra[t];if(e)return 0;var n=parseInt(s,10),r=n%100,i=(n-r)/100;return i*60+r}function zs(t){var e=na.exec(aa(t._i)),s;if(e){if(s=ia(e[4],e[3],e[2],e[5],e[6],e[7]),!la(e[1],s,t))return;t._a=s,t._tzm=ca(e[8],e[9],e[10]),t._d=je.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),S(t).rfc2822=!0}else t._isValid=!1}function ua(t){var e=sa.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(qs(t),t._isValid===!1)delete t._isValid;else return;if(zs(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:f.createFromInputFallback(t)}f.createFromInputFallback=q("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Te(t,e,s){return t??e??s}function ha(t){var e=new Date(f.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function ns(t){var e,s,n=[],r,i,o;if(!t._d){for(r=ha(t),t._w&&t._a[Q]==null&&t._a[ie]==null&&da(t),t._dayOfYear!=null&&(o=Te(t._a[A],r[A]),(t._dayOfYear>Le(o)||t._dayOfYear===0)&&(S(t)._overflowDayOfYear=!0),s=je(o,0,t._dayOfYear),t._a[ie]=s.getUTCMonth(),t._a[Q]=s.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=n[e]=r[e];for(;e<7;e++)t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[$]===24&&t._a[Z]===0&&t._a[oe]===0&&t._a[ye]===0&&(t._nextDay=!0,t._a[$]=0),t._d=(t._useUTC?je:yo).apply(null,n),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[$]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==i&&(S(t).weekdayMismatch=!0)}}function da(t){var e,s,n,r,i,o,a,c,d;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,o=4,s=Te(e.GG,t._a[A],Be(T(),1,4).year),n=Te(e.W,1),r=Te(e.E,1),(r<1||r>7)&&(c=!0)):(i=t._locale._week.dow,o=t._locale._week.doy,d=Be(T(),i,o),s=Te(e.gg,t._a[A],d.year),n=Te(e.w,d.week),e.d!=null?(r=e.d,(r<0||r>6)&&(c=!0)):e.e!=null?(r=e.e+i,(e.e<0||e.e>6)&&(c=!0)):r=i),n<1||n>le(s,i,o)?S(t)._overflowWeeks=!0:c!=null?S(t)._overflowWeekday=!0:(a=Hs(s,n,r,i,o),t._a[A]=a.year,t._dayOfYear=a.dayOfYear)}f.ISO_8601=function(){};f.RFC_2822=function(){};function rs(t){if(t._f===f.ISO_8601){qs(t);return}if(t._f===f.RFC_2822){zs(t);return}t._a=[],S(t).empty=!0;var e=""+t._i,s,n,r,i,o,a=e.length,c=0,d,m;for(r=Is(t._f,t._locale).match(qt)||[],m=r.length,s=0;s<m;s++)i=r[s],n=(e.match(Ki(i,t))||[])[0],n&&(o=e.substr(0,e.indexOf(n)),o.length>0&&S(t).unusedInput.push(o),e=e.slice(e.indexOf(n)+n.length),c+=n.length),Ee[i]?(n?S(t).empty=!1:S(t).unusedTokens.push(i),eo(i,n,t)):t._strict&&!n&&S(t).unusedTokens.push(i);S(t).charsLeftOver=a-c,e.length>0&&S(t).unusedInput.push(e),t._a[$]<=12&&S(t).bigHour===!0&&t._a[$]>0&&(S(t).bigHour=void 0),S(t).parsedDateParts=t._a.slice(0),S(t).meridiem=t._meridiem,t._a[$]=fa(t._locale,t._a[$],t._meridiem),d=S(t).era,d!==null&&(t._a[A]=t._locale.erasConvertYear(d,t._a[A])),ns(t),ss(t)}function fa(t,e,s){var n;return s==null?e:t.meridiemHour!=null?t.meridiemHour(e,s):(t.isPM!=null&&(n=t.isPM(s),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function _a(t){var e,s,n,r,i,o,a=!1,c=t._f.length;if(c===0){S(t).invalidFormat=!0,t._d=new Date(NaN);return}for(r=0;r<c;r++)i=0,o=!1,e=jt({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[r],rs(e),Vt(e)&&(o=!0),i+=S(e).charsLeftOver,i+=S(e).unusedTokens.length*10,S(e).score=i,a?i<n&&(n=i,s=e):(n==null||i<n||o)&&(n=i,s=e,o&&(a=!0));de(t,s||e)}function ga(t){if(!t._d){var e=zt(t._i),s=e.day===void 0?e.date:e.day;t._a=Ts([e.year,e.month,s,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),ns(t)}}function ma(t){var e=new Ge(ss(Gs(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Gs(t){var e=t._i,s=t._f;return t._locale=t._locale||ue(t._l),e===null||s===void 0&&e===""?dt({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),X(e)?new Ge(ss(e)):(ze(e)?t._d=e:J(s)?_a(t):s?rs(t):pa(t),Vt(t)||(t._d=null),t))}function pa(t){var e=t._i;F(e)?t._d=new Date(f.now()):ze(e)?t._d=new Date(e.valueOf()):typeof e=="string"?ua(t):J(e)?(t._a=Ts(e.slice(0),function(s){return parseInt(s,10)}),ns(t)):ve(e)?ga(t):ce(e)?t._d=new Date(e):f.createFromInputFallback(t)}function Zs(t,e,s,n,r){var i={};return(e===!0||e===!1)&&(n=e,e=void 0),(s===!0||s===!1)&&(n=s,s=void 0),(ve(t)&&Ut(t)||J(t)&&t.length===0)&&(t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=r,i._l=s,i._i=t,i._f=e,i._strict=n,ma(i)}function T(t,e,s,n){return Zs(t,e,s,n,!1)}var ya=q("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=T.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:dt()}),wa=q("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=T.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:dt()});function Js(t,e){var s,n;if(e.length===1&&J(e[0])&&(e=e[0]),!e.length)return T();for(s=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](s))&&(s=e[n]);return s}function Sa(){var t=[].slice.call(arguments,0);return Js("isBefore",t)}function va(){var t=[].slice.call(arguments,0);return Js("isAfter",t)}var ba=function(){return Date.now?Date.now():+new Date},Ae=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ka(t){var e,s=!1,n,r=Ae.length;for(e in t)if(k(t,e)&&!(R.call(Ae,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(n=0;n<r;++n)if(t[Ae[n]]){if(s)return!1;parseFloat(t[Ae[n]])!==v(t[Ae[n]])&&(s=!0)}return!0}function Da(){return this._isValid}function Ca(){return K(NaN)}function St(t){var e=zt(t),s=e.year||0,n=e.quarter||0,r=e.month||0,i=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,c=e.minute||0,d=e.second||0,m=e.millisecond||0;this._isValid=ka(e),this._milliseconds=+m+d*1e3+c*6e4+a*1e3*60*60,this._days=+o+i*7,this._months=+r+n*3+s*12,this._data={},this._locale=ue(),this._bubble()}function nt(t){return t instanceof St}function $t(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Ta(t,e,s){var n=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),i=0,o;for(o=0;o<n;o++)v(t[o])!==v(e[o])&&i++;return i+r}function Xs(t,e){g(t,0,0,function(){var s=this.utcOffset(),n="+";return s<0&&(s=-s,n="-"),n+ee(~~(s/60),2)+e+ee(~~s%60,2)})}Xs("Z",":");Xs("ZZ","");_("Z",pt);_("ZZ",pt);C(["Z","ZZ"],function(t,e,s){s._useUTC=!0,s._tzm=is(pt,t)});var Ma=/([\+\-]|\d\d)/gi;function is(t,e){var s=(e||"").match(t),n,r,i;return s===null?null:(n=s[s.length-1]||[],r=(n+"").match(Ma)||["-",0,0],i=+(r[1]*60)+v(r[2]),i===0?0:r[0]==="+"?i:-i)}function os(t,e){var s,n;return e._isUTC?(s=e.clone(),n=(X(t)||ze(t)?t.valueOf():T(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+n),f.updateOffset(s,!1),s):T(t).local()}function Wt(t){return-Math.round(t._d.getTimezoneOffset())}f.updateOffset=function(){};function Ea(t,e,s){var n=this._offset||0,r;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=is(pt,t),t===null)return this}else Math.abs(t)<16&&!s&&(t=t*60);return!this._isUTC&&e&&(r=Wt(this)),this._offset=t,this._isUTC=!0,r!=null&&this.add(r,"m"),n!==t&&(!e||this._changeInProgress?en(this,K(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,f.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:Wt(this)}function Ia(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Pa(t){return this.utcOffset(0,t)}function xa(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Wt(this),"m")),this}function Ra(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=is(Ji,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Oa(t){return this.isValid()?(t=t?T(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Ya(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Na(){if(!F(this._isDSTShifted))return this._isDSTShifted;var t={},e;return jt(t,this),t=Gs(t),t._a?(e=t._isUTC?te(t._a):T(t._a),this._isDSTShifted=this.isValid()&&Ta(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function $a(){return this.isValid()?!this._isUTC:!1}function Wa(){return this.isValid()?this._isUTC:!1}function Ks(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Aa=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,La=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function K(t,e){var s=t,n=null,r,i,o;return nt(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:ce(t)||!isNaN(+t)?(s={},e?s[e]=+t:s.milliseconds=+t):(n=Aa.exec(t))?(r=n[1]==="-"?-1:1,s={y:0,d:v(n[Q])*r,h:v(n[$])*r,m:v(n[Z])*r,s:v(n[oe])*r,ms:v($t(n[ye]*1e3))*r}):(n=La.exec(t))?(r=n[1]==="-"?-1:1,s={y:pe(n[2],r),M:pe(n[3],r),w:pe(n[4],r),d:pe(n[5],r),h:pe(n[6],r),m:pe(n[7],r),s:pe(n[8],r)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(o=Fa(T(s.from),T(s.to)),s={},s.ms=o.milliseconds,s.M=o.months),i=new St(s),nt(t)&&k(t,"_locale")&&(i._locale=t._locale),nt(t)&&k(t,"_isValid")&&(i._isValid=t._isValid),i}K.fn=St.prototype;K.invalid=Ca;function pe(t,e){var s=t&&parseFloat(t.replace(",","."));return(isNaN(s)?0:s)*e}function Ss(t,e){var s={};return s.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(s.months,"M").isAfter(e)&&--s.months,s.milliseconds=+e-+t.clone().add(s.months,"M"),s}function Fa(t,e){var s;return t.isValid()&&e.isValid()?(e=os(e,t),t.isBefore(e)?s=Ss(t,e):(s=Ss(e,t),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function Qs(t,e){return function(s,n){var r,i;return n!==null&&!isNaN(+n)&&(Es(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=s,s=n,n=i),r=K(s,n),en(this,r,t),this}}function en(t,e,s,n){var r=e._milliseconds,i=$t(e._days),o=$t(e._months);t.isValid()&&(n=n??!0,o&&As(t,Ve(t,"Month")+o*s),i&&Ns(t,"Date",Ve(t,"Date")+i*s),r&&t._d.setTime(t._d.valueOf()+r*s),n&&f.updateOffset(t,i||o))}var Ha=Qs(1,"add"),Ua=Qs(-1,"subtract");function tn(t){return typeof t=="string"||t instanceof String}function Va(t){return X(t)||ze(t)||tn(t)||ce(t)||Ba(t)||ja(t)||t===null||t===void 0}function ja(t){var e=ve(t)&&!Ut(t),s=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,i,o=n.length;for(r=0;r<o;r+=1)i=n[r],s=s||k(t,i);return e&&s}function Ba(t){var e=J(t),s=!1;return e&&(s=t.filter(function(n){return!ce(n)&&tn(t)}).length===0),e&&s}function qa(t){var e=ve(t)&&!Ut(t),s=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,i;for(r=0;r<n.length;r+=1)i=n[r],s=s||k(t,i);return e&&s}function za(t,e){var s=t.diff(e,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function Ga(t,e){arguments.length===1&&(arguments[0]?Va(arguments[0])?(t=arguments[0],e=void 0):qa(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var s=t||T(),n=os(s,this).startOf("day"),r=f.calendarFormat(this,n)||"sameElse",i=e&&(se(e[r])?e[r].call(this,s):e[r]);return this.format(i||this.localeData().calendar(r,this,T(s)))}function Za(){return new Ge(this)}function Ja(t,e){var s=X(t)?t:T(t);return this.isValid()&&s.isValid()?(e=z(e)||"millisecond",e==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(e).valueOf()):!1}function Xa(t,e){var s=X(t)?t:T(t);return this.isValid()&&s.isValid()?(e=z(e)||"millisecond",e==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(e).valueOf()<s.valueOf()):!1}function Ka(t,e,s,n){var r=X(t)?t:T(t),i=X(e)?e:T(e);return this.isValid()&&r.isValid()&&i.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(r,s):!this.isBefore(r,s))&&(n[1]===")"?this.isBefore(i,s):!this.isAfter(i,s))):!1}function Qa(t,e){var s=X(t)?t:T(t),n;return this.isValid()&&s.isValid()?(e=z(e)||"millisecond",e==="millisecond"?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function el(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function tl(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function sl(t,e,s){var n,r,i;if(!this.isValid())return NaN;if(n=os(t,this),!n.isValid())return NaN;switch(r=(n.utcOffset()-this.utcOffset())*6e4,e=z(e),e){case"year":i=rt(this,n)/12;break;case"month":i=rt(this,n);break;case"quarter":i=rt(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-r)/864e5;break;case"week":i=(this-n-r)/6048e5;break;default:i=this-n}return s?i:B(i)}function rt(t,e){if(t.date()<e.date())return-rt(e,t);var s=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(s,"months"),r,i;return e-n<0?(r=t.clone().add(s-1,"months"),i=(e-n)/(n-r)):(r=t.clone().add(s+1,"months"),i=(e-n)/(r-n)),-(s+i)||0}f.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";f.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function nl(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rl(t){if(!this.isValid())return null;var e=t!==!0,s=e?this.clone().utc():this;return s.year()<0||s.year()>9999?st(s,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):se(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",st(s,"Z")):st(s,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function il(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",s,n,r,i;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),s="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(s+n+r+i)}function ol(t){t||(t=this.isUtc()?f.defaultFormatUtc:f.defaultFormat);var e=st(this,t);return this.localeData().postformat(e)}function al(t,e){return this.isValid()&&(X(t)&&t.isValid()||T(t).isValid())?K({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ll(t){return this.from(T(),t)}function cl(t,e){return this.isValid()&&(X(t)&&t.isValid()||T(t).isValid())?K({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ul(t){return this.to(T(),t)}function sn(t){var e;return t===void 0?this._locale._abbr:(e=ue(t),e!=null&&(this._locale=e),this)}var nn=q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function rn(){return this._locale}var lt=1e3,Ie=60*lt,ct=60*Ie,on=(365*400+97)*24*ct;function Pe(t,e){return(t%e+e)%e}function an(t,e,s){return t<100&&t>=0?new Date(t+400,e,s)-on:new Date(t,e,s).valueOf()}function ln(t,e,s){return t<100&&t>=0?Date.UTC(t+400,e,s)-on:Date.UTC(t,e,s)}function hl(t){var e,s;if(t=z(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?ln:an,t){case"year":e=s(this.year(),0,1);break;case"quarter":e=s(this.year(),this.month()-this.month()%3,1);break;case"month":e=s(this.year(),this.month(),1);break;case"week":e=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=s(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Pe(e+(this._isUTC?0:this.utcOffset()*Ie),ct);break;case"minute":e=this._d.valueOf(),e-=Pe(e,Ie);break;case"second":e=this._d.valueOf(),e-=Pe(e,lt);break}return this._d.setTime(e),f.updateOffset(this,!0),this}function dl(t){var e,s;if(t=z(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?ln:an,t){case"year":e=s(this.year()+1,0,1)-1;break;case"quarter":e=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=s(this.year(),this.month()+1,1)-1;break;case"week":e=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=ct-Pe(e+(this._isUTC?0:this.utcOffset()*Ie),ct)-1;break;case"minute":e=this._d.valueOf(),e+=Ie-Pe(e,Ie)-1;break;case"second":e=this._d.valueOf(),e+=lt-Pe(e,lt)-1;break}return this._d.setTime(e),f.updateOffset(this,!0),this}function fl(){return this._d.valueOf()-(this._offset||0)*6e4}function _l(){return Math.floor(this.valueOf()/1e3)}function gl(){return new Date(this.valueOf())}function ml(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function pl(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function yl(){return this.isValid()?this.toISOString():null}function wl(){return Vt(this)}function Sl(){return de({},S(this))}function vl(){return S(this).overflow}function bl(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}g("N",0,0,"eraAbbr");g("NN",0,0,"eraAbbr");g("NNN",0,0,"eraAbbr");g("NNNN",0,0,"eraName");g("NNNNN",0,0,"eraNarrow");g("y",["y",1],"yo","eraYear");g("y",["yy",2],0,"eraYear");g("y",["yyy",3],0,"eraYear");g("y",["yyyy",4],0,"eraYear");_("N",as);_("NN",as);_("NNN",as);_("NNNN",Ol);_("NNNNN",Yl);C(["N","NN","NNN","NNNN","NNNNN"],function(t,e,s,n){var r=s._locale.erasParse(t,n,s._strict);r?S(s).era=r:S(s).invalidEra=t});_("y",Re);_("yy",Re);_("yyy",Re);_("yyyy",Re);_("yo",Nl);C(["y","yy","yyy","yyyy"],A);C(["yo"],function(t,e,s,n){var r;s._locale._eraYearOrdinalRegex&&(r=t.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?e[A]=s._locale.eraYearOrdinalParse(t,r):e[A]=parseInt(t,10)});function kl(t,e){var s,n,r,i=this._eras||ue("en")._eras;for(s=0,n=i.length;s<n;++s){switch(typeof i[s].since){case"string":r=f(i[s].since).startOf("day"),i[s].since=r.valueOf();break}switch(typeof i[s].until){case"undefined":i[s].until=1/0;break;case"string":r=f(i[s].until).startOf("day").valueOf(),i[s].until=r.valueOf();break}}return i}function Dl(t,e,s){var n,r,i=this.eras(),o,a,c;for(t=t.toUpperCase(),n=0,r=i.length;n<r;++n)if(o=i[n].name.toUpperCase(),a=i[n].abbr.toUpperCase(),c=i[n].narrow.toUpperCase(),s)switch(e){case"N":case"NN":case"NNN":if(a===t)return i[n];break;case"NNNN":if(o===t)return i[n];break;case"NNNNN":if(c===t)return i[n];break}else if([o,a,c].indexOf(t)>=0)return i[n]}function Cl(t,e){var s=t.since<=t.until?1:-1;return e===void 0?f(t.since).year():f(t.since).year()+(e-t.offset)*s}function Tl(){var t,e,s,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(s=this.clone().startOf("day").valueOf(),n[t].since<=s&&s<=n[t].until||n[t].until<=s&&s<=n[t].since)return n[t].name;return""}function Ml(){var t,e,s,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(s=this.clone().startOf("day").valueOf(),n[t].since<=s&&s<=n[t].until||n[t].until<=s&&s<=n[t].since)return n[t].narrow;return""}function El(){var t,e,s,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(s=this.clone().startOf("day").valueOf(),n[t].since<=s&&s<=n[t].until||n[t].until<=s&&s<=n[t].since)return n[t].abbr;return""}function Il(){var t,e,s,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(s=r[t].since<=r[t].until?1:-1,n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return(this.year()-f(r[t].since).year())*s+r[t].offset;return this.year()}function Pl(t){return k(this,"_erasNameRegex")||ls.call(this),t?this._erasNameRegex:this._erasRegex}function xl(t){return k(this,"_erasAbbrRegex")||ls.call(this),t?this._erasAbbrRegex:this._erasRegex}function Rl(t){return k(this,"_erasNarrowRegex")||ls.call(this),t?this._erasNarrowRegex:this._erasRegex}function as(t,e){return e.erasAbbrRegex(t)}function Ol(t,e){return e.erasNameRegex(t)}function Yl(t,e){return e.erasNarrowRegex(t)}function Nl(t,e){return e._eraYearOrdinalRegex||Re}function ls(){var t=[],e=[],s=[],n=[],r,i,o,a,c,d=this.eras();for(r=0,i=d.length;r<i;++r)o=ae(d[r].name),a=ae(d[r].abbr),c=ae(d[r].narrow),e.push(o),t.push(a),s.push(c),n.push(o),n.push(a),n.push(c);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}g(0,["gg",2],0,function(){return this.weekYear()%100});g(0,["GG",2],0,function(){return this.isoWeekYear()%100});function vt(t,e){g(0,[t,t.length],0,e)}vt("gggg","weekYear");vt("ggggg","weekYear");vt("GGGG","isoWeekYear");vt("GGGGG","isoWeekYear");_("G",mt);_("g",mt);_("GG",M,j);_("gg",M,j);_("GGGG",Zt,Gt);_("gggg",Zt,Gt);_("GGGGG",gt,ft);_("ggggg",gt,ft);Je(["gggg","ggggg","GGGG","GGGGG"],function(t,e,s,n){e[n.substr(0,2)]=v(t)});Je(["gg","GG"],function(t,e,s,n){e[n]=f.parseTwoDigitYear(t)});function $l(t){return cn.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Wl(t){return cn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Al(){return le(this.year(),1,4)}function Ll(){return le(this.isoWeekYear(),1,4)}function Fl(){var t=this.localeData()._week;return le(this.year(),t.dow,t.doy)}function Hl(){var t=this.localeData()._week;return le(this.weekYear(),t.dow,t.doy)}function cn(t,e,s,n,r){var i;return t==null?Be(this,n,r).year:(i=le(t,n,r),e>i&&(e=i),Ul.call(this,t,e,s,n,r))}function Ul(t,e,s,n,r){var i=Hs(t,e,s,n,r),o=je(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}g("Q",0,"Qo","quarter");_("Q",Ps);C("Q",function(t,e){e[ie]=(v(t)-1)*3});function Vl(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}g("D",["DD",2],"Do","date");_("D",M,Oe);_("DD",M,j);_("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});C(["D","DD"],Q);C("Do",function(t,e){e[Q]=v(t.match(M)[0])});var un=Ye("Date",!0);g("DDD",["DDDD",3],"DDDo","dayOfYear");_("DDD",_t);_("DDDD",xs);C(["DDD","DDDD"],function(t,e,s){s._dayOfYear=v(t)});function jl(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}g("m",["mm",2],0,"minute");_("m",M,Jt);_("mm",M,j);C(["m","mm"],Z);var Bl=Ye("Minutes",!1);g("s",["ss",2],0,"second");_("s",M,Jt);_("ss",M,j);C(["s","ss"],oe);var ql=Ye("Seconds",!1);g("S",0,0,function(){return~~(this.millisecond()/100)});g(0,["SS",2],0,function(){return~~(this.millisecond()/10)});g(0,["SSS",3],0,"millisecond");g(0,["SSSS",4],0,function(){return this.millisecond()*10});g(0,["SSSSS",5],0,function(){return this.millisecond()*100});g(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});g(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});g(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});g(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});_("S",_t,Ps);_("SS",_t,j);_("SSS",_t,xs);var fe,hn;for(fe="SSSS";fe.length<=9;fe+="S")_(fe,Re);function zl(t,e){e[ye]=v(("0."+t)*1e3)}for(fe="S";fe.length<=9;fe+="S")C(fe,zl);hn=Ye("Milliseconds",!1);g("z",0,0,"zoneAbbr");g("zz",0,0,"zoneName");function Gl(){return this._isUTC?"UTC":""}function Zl(){return this._isUTC?"Coordinated Universal Time":""}var h=Ge.prototype;h.add=Ha;h.calendar=Ga;h.clone=Za;h.diff=sl;h.endOf=dl;h.format=ol;h.from=al;h.fromNow=ll;h.to=cl;h.toNow=ul;h.get=ro;h.invalidAt=vl;h.isAfter=Ja;h.isBefore=Xa;h.isBetween=Ka;h.isSame=Qa;h.isSameOrAfter=el;h.isSameOrBefore=tl;h.isValid=wl;h.lang=nn;h.locale=sn;h.localeData=rn;h.max=wa;h.min=ya;h.parsingFlags=Sl;h.set=io;h.startOf=hl;h.subtract=Ua;h.toArray=ml;h.toObject=pl;h.toDate=gl;h.toISOString=rl;h.inspect=il;typeof Symbol<"u"&&Symbol.for!=null&&(h[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});h.toJSON=yl;h.toString=nl;h.unix=_l;h.valueOf=fl;h.creationData=bl;h.eraName=Tl;h.eraNarrow=Ml;h.eraAbbr=El;h.eraYear=Il;h.year=Ys;h.isLeapYear=no;h.weekYear=$l;h.isoWeekYear=Wl;h.quarter=h.quarters=Vl;h.month=Ls;h.daysInMonth=go;h.week=h.weeks=ko;h.isoWeek=h.isoWeeks=Do;h.weeksInYear=Fl;h.weeksInWeekYear=Hl;h.isoWeeksInYear=Al;h.isoWeeksInISOWeekYear=Ll;h.date=un;h.day=h.days=Wo;h.weekday=Ao;h.isoWeekday=Lo;h.dayOfYear=jl;h.hour=h.hours=qo;h.minute=h.minutes=Bl;h.second=h.seconds=ql;h.millisecond=h.milliseconds=hn;h.utcOffset=Ea;h.utc=Pa;h.local=xa;h.parseZone=Ra;h.hasAlignedHourOffset=Oa;h.isDST=Ya;h.isLocal=$a;h.isUtcOffset=Wa;h.isUtc=Ks;h.isUTC=Ks;h.zoneAbbr=Gl;h.zoneName=Zl;h.dates=q("dates accessor is deprecated. Use date instead.",un);h.months=q("months accessor is deprecated. Use month instead",Ls);h.years=q("years accessor is deprecated. Use year instead",Ys);h.zone=q("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ia);h.isDSTShifted=q("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Na);function Jl(t){return T(t*1e3)}function Xl(){return T.apply(null,arguments).parseZone()}function dn(t){return t}var D=Bt.prototype;D.calendar=Ni;D.longDateFormat=Li;D.invalidDate=Hi;D.ordinal=ji;D.preparse=dn;D.postformat=dn;D.relativeTime=qi;D.pastFuture=zi;D.set=Oi;D.eras=kl;D.erasParse=Dl;D.erasConvertYear=Cl;D.erasAbbrRegex=xl;D.erasNameRegex=Pl;D.erasNarrowRegex=Rl;D.months=uo;D.monthsShort=ho;D.monthsParse=_o;D.monthsRegex=po;D.monthsShortRegex=mo;D.week=wo;D.firstDayOfYear=bo;D.firstDayOfWeek=vo;D.weekdays=Ro;D.weekdaysMin=Yo;D.weekdaysShort=Oo;D.weekdaysParse=$o;D.weekdaysRegex=Fo;D.weekdaysShortRegex=Ho;D.weekdaysMinRegex=Uo;D.isPM=jo;D.meridiem=zo;function ut(t,e,s,n){var r=ue(),i=te().set(n,e);return r[s](i,t)}function fn(t,e,s){if(ce(t)&&(e=t,t=void 0),t=t||"",e!=null)return ut(t,e,s,"month");var n,r=[];for(n=0;n<12;n++)r[n]=ut(t,n,s,"month");return r}function cs(t,e,s,n){typeof t=="boolean"?(ce(e)&&(s=e,e=void 0),e=e||""):(e=t,s=e,t=!1,ce(e)&&(s=e,e=void 0),e=e||"");var r=ue(),i=t?r._week.dow:0,o,a=[];if(s!=null)return ut(e,(s+i)%7,n,"day");for(o=0;o<7;o++)a[o]=ut(e,(o+i)%7,n,"day");return a}function Kl(t,e){return fn(t,e,"months")}function Ql(t,e){return fn(t,e,"monthsShort")}function ec(t,e,s){return cs(t,e,s,"weekdays")}function tc(t,e,s){return cs(t,e,s,"weekdaysShort")}function sc(t,e,s){return cs(t,e,s,"weekdaysMin")}_e("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,s=v(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+s}});f.lang=q("moment.lang is deprecated. Use moment.locale instead.",_e);f.langData=q("moment.langData is deprecated. Use moment.localeData instead.",ue);var ne=Math.abs;function nc(){var t=this._data;return this._milliseconds=ne(this._milliseconds),this._days=ne(this._days),this._months=ne(this._months),t.milliseconds=ne(t.milliseconds),t.seconds=ne(t.seconds),t.minutes=ne(t.minutes),t.hours=ne(t.hours),t.months=ne(t.months),t.years=ne(t.years),this}function _n(t,e,s,n){var r=K(e,s);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function rc(t,e){return _n(this,t,e,1)}function ic(t,e){return _n(this,t,e,-1)}function vs(t){return t<0?Math.floor(t):Math.ceil(t)}function oc(){var t=this._milliseconds,e=this._days,s=this._months,n=this._data,r,i,o,a,c;return t>=0&&e>=0&&s>=0||t<=0&&e<=0&&s<=0||(t+=vs(At(s)+e)*864e5,e=0,s=0),n.milliseconds=t%1e3,r=B(t/1e3),n.seconds=r%60,i=B(r/60),n.minutes=i%60,o=B(i/60),n.hours=o%24,e+=B(o/24),c=B(gn(e)),s+=c,e-=vs(At(c)),a=B(s/12),s%=12,n.days=e,n.months=s,n.years=a,this}function gn(t){return t*4800/146097}function At(t){return t*146097/4800}function ac(t){if(!this.isValid())return NaN;var e,s,n=this._milliseconds;if(t=z(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+n/864e5,s=this._months+gn(e),t){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(e=this._days+Math.round(At(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}function he(t){return function(){return this.as(t)}}var mn=he("ms"),lc=he("s"),cc=he("m"),uc=he("h"),hc=he("d"),dc=he("w"),fc=he("M"),_c=he("Q"),gc=he("y"),mc=mn;function pc(){return K(this)}function yc(t){return t=z(t),this.isValid()?this[t+"s"]():NaN}function De(t){return function(){return this.isValid()?this._data[t]:NaN}}var wc=De("milliseconds"),Sc=De("seconds"),vc=De("minutes"),bc=De("hours"),kc=De("days"),Dc=De("months"),Cc=De("years");function Tc(){return B(this.days()/7)}var re=Math.round,Me={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Mc(t,e,s,n,r){return r.relativeTime(e||1,!!s,t,n)}function Ec(t,e,s,n){var r=K(t).abs(),i=re(r.as("s")),o=re(r.as("m")),a=re(r.as("h")),c=re(r.as("d")),d=re(r.as("M")),m=re(r.as("w")),x=re(r.as("y")),H=i<=s.ss&&["s",i]||i<s.s&&["ss",i]||o<=1&&["m"]||o<s.m&&["mm",o]||a<=1&&["h"]||a<s.h&&["hh",a]||c<=1&&["d"]||c<s.d&&["dd",c];return s.w!=null&&(H=H||m<=1&&["w"]||m<s.w&&["ww",m]),H=H||d<=1&&["M"]||d<s.M&&["MM",d]||x<=1&&["y"]||["yy",x],H[2]=e,H[3]=+t>0,H[4]=n,Mc.apply(null,H)}function Ic(t){return t===void 0?re:typeof t=="function"?(re=t,!0):!1}function Pc(t,e){return Me[t]===void 0?!1:e===void 0?Me[t]:(Me[t]=e,t==="s"&&(Me.ss=e-1),!0)}function xc(t,e){if(!this.isValid())return this.localeData().invalidDate();var s=!1,n=Me,r,i;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(s=t),typeof e=="object"&&(n=Object.assign({},Me,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),r=this.localeData(),i=Ec(this,!s,n,r),s&&(i=r.pastFuture(+this,i)),r.postformat(i)}var Mt=Math.abs;function Ce(t){return(t>0)-(t<0)||+t}function bt(){if(!this.isValid())return this.localeData().invalidDate();var t=Mt(this._milliseconds)/1e3,e=Mt(this._days),s=Mt(this._months),n,r,i,o,a=this.asSeconds(),c,d,m,x;return a?(n=B(t/60),r=B(n/60),t%=60,n%=60,i=B(s/12),s%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",c=a<0?"-":"",d=Ce(this._months)!==Ce(a)?"-":"",m=Ce(this._days)!==Ce(a)?"-":"",x=Ce(this._milliseconds)!==Ce(a)?"-":"",c+"P"+(i?d+i+"Y":"")+(s?d+s+"M":"")+(e?m+e+"D":"")+(r||n||t?"T":"")+(r?x+r+"H":"")+(n?x+n+"M":"")+(t?x+o+"S":"")):"P0D"}var b=St.prototype;b.isValid=Da;b.abs=nc;b.add=rc;b.subtract=ic;b.as=ac;b.asMilliseconds=mn;b.asSeconds=lc;b.asMinutes=cc;b.asHours=uc;b.asDays=hc;b.asWeeks=dc;b.asMonths=fc;b.asQuarters=_c;b.asYears=gc;b.valueOf=mc;b._bubble=oc;b.clone=pc;b.get=yc;b.milliseconds=wc;b.seconds=Sc;b.minutes=vc;b.hours=bc;b.days=kc;b.weeks=Tc;b.months=Dc;b.years=Cc;b.humanize=xc;b.toISOString=bt;b.toString=bt;b.toJSON=bt;b.locale=sn;b.localeData=rn;b.toIsoString=q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",bt);b.lang=nn;g("X",0,0,"unix");g("x",0,0,"valueOf");_("x",mt);_("X",Xi);C("X",function(t,e,s){s._d=new Date(parseFloat(t)*1e3)});C("x",function(t,e,s){s._d=new Date(v(t))});//! moment.js
f.version="2.30.1";xi(T);f.fn=h;f.min=Sa;f.max=va;f.now=ba;f.utc=te;f.unix=Jl;f.months=Kl;f.isDate=ze;f.locale=_e;f.invalid=dt;f.duration=K;f.isMoment=X;f.weekdays=ec;f.parseZone=Xl;f.localeData=ue;f.isDuration=nt;f.monthsShort=Ql;f.weekdaysMin=sc;f.defineLocale=ts;f.updateLocale=Xo;f.locales=Ko;f.weekdaysShort=tc;f.normalizeUnits=z;f.relativeTimeRounding=Ic;f.relativeTimeThreshold=Pc;f.calendarFormat=za;f.prototype=h;f.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Rc={__name:"Alarms",props:{alarms:{type:xt,required:!0,default:new xt}},setup(t){const e=t;return(s,n)=>{const r=L("el-table-column"),i=L("el-table");return V(),me(ke,null,{header:y(()=>n[0]||(n[0]=[u("span",null,"警報",-1)])),default:y(()=>[p(i,{data:e.alarms.CurrentAlarms,border:"",stripe:"",style:{height:"250px"},"header-cell-style":Et(Tn),"cell-style":Et(Mn)},{default:y(()=>[p(r,{prop:"Time",label:"時間"}),p(r,{prop:"AlarmCode",label:"警報代碼"}),p(r,{prop:"AlarmType",label:"警報類型"}),p(r,{prop:"AlarmMessage",label:"警報訊息"})]),_:1},8,["data","header-cell-style","cell-style"])]),_:1})}}},Oc={class:"agv-real-time-data d-flex flex-column bg-dark"},Yc={__name:"index",props:{vehicleData:{type:It,required:!0,default:new It}},setup(t){const e=t,s=tt(()=>({name:e.vehicleData.Data.Name,mainStatus:e.vehicleData.Data.Status,description:e.vehicleData.Data.Description,onlineState:e.vehicleData.Data.OnlineState,runningTask:e.vehicleData.Data.RunningTask})),n=tt(()=>({batLevel:e.vehicleData.Data.BatLevel,batVoltage:e.vehicleData.Data.BatVoltage,batChargeCurrent:e.vehicleData.Data.BatChargeCurrent,batDisChargeCurrent:e.vehicleData.Data.BatDisChargeCurrent})),r=tt(()=>({motorRightVoltage:e.vehicleData.Data.MotorRightVoltage,motorRightCurrent:e.vehicleData.Data.MotorRightCurrent,motorRightTemperature:e.vehicleData.Data.MotorRightTemperature,motorRightAlarmCode:e.vehicleData.Data.MotorRightAlarmCode,motorLeftVoltage:e.vehicleData.Data.MotorLeftVoltage,motorLeftCurrent:e.vehicleData.Data.MotorLeftCurrent,motorLeftTemperature:e.vehicleData.Data.MotorLeftTemperature,motorLeftAlarmCode:e.vehicleData.Data.MotorLeftAlarmCode}));return(i,o)=>{const a=L("el-col"),c=L("el-row");return V(),Fe("div",Oc,[p(c,null,{default:y(()=>[p(a,{lg:6},{default:y(()=>[p(Ir,{baseStatus:s.value},null,8,["baseStatus"])]),_:1}),p(a,{lg:3},{default:y(()=>[p(Pi,{style:{height:"165px"},mileageStatus:i.mileageStatus},null,8,["mileageStatus"])]),_:1}),p(a,{lg:6},{default:y(()=>[p(Fr,{style:{height:"165px"},batteryStatus:n.value},null,8,["batteryStatus"])]),_:1}),p(a,{lg:9},{default:y(()=>[p(ti,{style:{height:"165px"},motorsStatus:r.value},null,8,["motorsStatus"])]),_:1})]),_:1}),p(c,{class:""},{default:y(()=>[p(a,{lg:12},{default:y(()=>[p(hi,{style:{height:"310px"},data:t.vehicleData.Data.UtilizationViewData},null,8,["data"])]),_:1}),p(a,{lg:12},{default:y(()=>[p(Rc,{alarms:t.vehicleData.Data.Alarm},null,8,["alarms"])]),_:1})]),_:1}),p(c,null,{default:y(()=>[p(a,{lg:9},{default:y(()=>[p(Ei,{dailyTaskStatistics:t.vehicleData.Data.DailyTaskStatistics},null,8,["dailyTaskStatistics"])]),_:1})]),_:1})])}}},Nc=ge(Yc,[["__scopeId","data-v-270df61d"]]),Hc={__name:"EquipmentinfoView",setup(t){const e=_r(),s=r=>{console.log(r),e.subscribeEquipmentData(r)},n=tt(()=>e.subscribingVehicleData);return(r,i)=>(V(),Fe("div",null,[p(Pn,{class:"border-bottom pb-2",onEquipmentSelected:s}),n.value?(V(),me(Nc,{key:0,vehicleData:n.value},null,8,["vehicleData"])):Dn("",!0)]))}};export{Hc as default};
