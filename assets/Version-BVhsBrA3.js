import{J as j,N as T,z as H,r as w,e as y,a as u,c as f,f as t,w as l,M as G,b as d,F as O,d as S,B as q,l as x,o as D,q as I,u as A,O as E,g as k,t as C,P as L}from"./index-BcXu-UWh.js";class F{constructor(){this.Name="Test",this.Version="1.0.0"}}class n extends F{constructor(s=1,r="Test",a="1.0.0"){super(),this.floor=s,this.Name=r,this.Version=a;let _=new F;this.vehiclesVersions=[],this.vehiclesVersions.push(_)}}const J=j("version",{state:()=>({versions:[new n,new n]}),actions:{async fetchVersions(){try{const e=await T();this.versions=e.data}catch(e){console.error(e)}this.versions=[new n(3,"AOI","1.1.0"),new n(3,"MEC","1.2.0"),new n(4,"AOI","1.3.0"),new n(4,"MEC","1.4.0"),new n(5,"AOI","1.1.0"),new n(5,"MEC","1.2.0"),new n(6,"AOI","1.1.0"),new n(6,"MEC","1.2.0"),new n(7,"AOI","1.1.0"),new n(7,"MEC","1.2.0")]}},getters:{getVersions:e=>e.versions,getVersionByFloor:e=>s=>e.versions.find(r=>r.floor===s),getGroupedVersions:e=>e.versions.reduce((s,r)=>(s[r.floor]=s[r.floor]||[],s[r.floor].push(r),s),{})}}),P={__name:"SimpleContent",props:{class1HeaderNumber:{type:Number,default:0},currentActiveValue:{type:Number,default:-1}},setup(e){const s=w(!0);return(r,a)=>{const _=y("el-tooltip");return u(),f("div",{class:"simple-content-container",onMouseenter:a[0]||(a[0]=o=>s.value=!0),onMouseleave:a[1]||(a[1]=o=>s.value=!0)},[t(_,{content:e.class1HeaderNumber,placement:"left-start"},{content:l(()=>[G(r.$slots,"content-data",{},void 0,!0)]),default:l(()=>[d("div",null,[(u(!0),f(O,null,S(e.class1HeaderNumber,o=>(u(),f("div",{class:"class1-item-bar",key:o,style:q({backgroundColor:e.currentActiveValue===o-1?"orange":"#5c5c5c"})},null,4))),128))])]),_:3},8,["content"])],32)}}},R=H(P,[["__scopeId","data-v-ab91db9d"]]),K={class:"version-container d-flex flex-row"},Q={class:"w-100 versions-view"},U=["id"],W={class:"floor-number-container border-bottom text-start"},X={class:"contents mx-2 align-self-start"},Y={class:"",style:{width:"150px"}},Z=["onClick"],ee={class:"btext-start"},te={__name:"Version",setup(e){w("1.0.0");const s=x({background:"rgb(1, 1, 1)",color:"#ffffff"}),r=x({background:"rgb(37 73 70)",color:"#ffffff"}),a=x({background:"rgb(22, 22, 12)",color:"#ffffff"}),_=w([new n]),o=w({}),N=J(),m=w("");D(()=>{N.fetchVersions().then(()=>{_.value=N.getVersions,o.value=N.getGroupedVersions,m.value=Object.keys(o.value)[0]});const p=()=>{const V=Object.keys(o.value);for(const i of V){const b=document.getElementById(`floor-${i}`);if(b){const h=b.getBoundingClientRect();if(h.top>=0&&h.top<=window.innerHeight/2){m.value=i;break}}}},v=document.querySelector(".versions-view");v&&v.addEventListener("scroll",p)});const M=I(()=>Object.keys(o.value).length),B=I(()=>Object.keys(o.value).indexOf(m.value)),$=p=>{m.value=p;const v=document.getElementById(`floor-${p}`);v&&v.scrollIntoView({behavior:"smooth"})};return(p,v)=>{const V=y("el-icon"),i=y("el-table-column"),b=y("el-tag"),h=y("el-table");return u(),f("div",K,[d("div",Q,[(u(!0),f(O,null,S(Object.keys(o.value),c=>(u(),f("div",{class:"w-100 mb-4",id:`floor-${c}`,key:c},[d("div",W,[d("span",null,[t(V,{color:"orange"},{default:l(()=>[t(A(E))]),_:1}),k(" "+C(c)+"F ",1)])]),t(h,{size:"small",data:o.value[c],border:"","header-cell-style":s,"cell-style":a,style:{width:"100%"}},{default:l(()=>[t(i,{prop:"Name",label:"場域名稱",width:"180"}),t(i,{prop:"Version",label:"派車平台版本",width:"180"},{default:l(g=>[t(b,{effect:"dark",type:"success",size:"large"},{default:l(()=>[k(C(g.row.Version),1)]),_:2},1024)]),_:1}),t(i,{prop:"vehiclesVersions",label:"車輛版本"},{default:l(g=>[t(h,{size:"small",border:"",data:g.row.vehiclesVersions,"header-cell-style":r,"cell-style":a},{default:l(()=>[t(i,{prop:"Name",label:"車輛名稱",width:"180"}),t(i,{prop:"Version",label:"車輛版本"},{default:l(z=>[t(b,{effect:"dark",type:"info",size:"large"},{default:l(()=>[k(C(z.row.Version),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["data","header-cell-style","cell-style"])]),_:1})]),_:2},1032,["data","header-cell-style","cell-style"])],8,U))),128))]),d("div",X,[t(R,{class1HeaderNumber:M.value,currentActiveValue:B.value},{"content-data":l(()=>[d("div",Y,[(u(!0),f(O,null,S(Object.keys(o.value),c=>(u(),f("div",{onClick:g=>$(c),class:L(["w-100 mb-2 content-floor-item",{"text-primary":m.value===c}]),key:c},[d("div",ee,[d("span",null,[t(V,{color:"orange"},{default:l(()=>[t(A(E))]),_:1}),k(" "+C(c)+"F ",1)])])],10,Z))),128))])]),_:1},8,["class1HeaderNumber","currentActiveValue"])])])}}},oe=H(te,[["__scopeId","data-v-0546dfcc"]]);export{oe as default};
